<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SYNQ - AI Vitals Dashboard</title>
  
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&display=swap');

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: #000000;
      color: #FFFFFF;
      width: 100%;
      height: 100%;
      overflow-x: hidden;
      box-sizing: border-box;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    html, body {
      height: 100%;
    }
    
    .app-container {
      width: 100%;
      min-height: 100%;
      display: flex;
      flex-direction: column;
    }
    
    /* Navigation */
    .nav-bar {
      background: rgba(10, 10, 10, 0.8);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.06);
      padding: 20px 40px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 100;
      width: 100%;
    }
    
    .logo {
      font-family: 'Inter', sans-serif;
      font-size: 24px;
      font-weight: 800;
      color: #FFFFFF;
      letter-spacing: -0.5px;
    }
    
    .nav-links {
      display: flex;
      gap: 8px;
      align-items: center;
    }
    
    .nav-link {
      font-family: 'Inter', sans-serif;
      color: rgba(255, 255, 255, 0.5);
      text-decoration: none;
      font-weight: 500;
      padding: 8px 16px;
      border-radius: 8px;
      transition: all 0.2s ease;
      cursor: pointer;
      font-size: 14px;
      letter-spacing: -0.2px;
    }
    
    .nav-link:hover {
      color: #FFFFFF;
      background: rgba(255, 255, 255, 0.08);
    }
    
    .nav-link.active {
      color: #FFFFFF;
      background: rgba(255, 255, 255, 0.12);
    }
    
    /* Page Container */
    .page {
      display: none;
      width: 100%;
      flex: 1;
      padding: 40px;
    }
    
    .page.active {
      display: block;
    }
    
    .page-content {
      max-width: 1400px;
      margin: 0 auto;
    }
    
    /* Welcome Page */
    .welcome-screen {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      min-height: 80%;
      padding: 60px 24px;
    }
    
    .welcome-title {
      font-family: 'Inter', sans-serif;
      font-size: 96px;
      font-weight: 800;
      margin-bottom: 20px;
      color: #FFFFFF;
      letter-spacing: -3px;
    }
    
    .welcome-subtitle {
      font-family: 'Inter', sans-serif;
      font-size: 20px;
      color: rgba(255, 255, 255, 0.5);
      margin-bottom: 60px;
      font-weight: 400;
      letter-spacing: -0.3px;
    }
    
    .vitals-preview {
      display: flex;
      gap: 32px;
      margin-bottom: 48px;
      flex-wrap: wrap;
      justify-content: center;
    }
    
    .vital-card {
      width: 200px;
      height: 240px;
      cursor: pointer;
      border-radius: 24px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 0 40px rgba(192, 192, 192, 0.3), 
                  0 0 80px rgba(192, 192, 192, 0.15);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .vital-card:nth-child(1) {
      background: linear-gradient(135deg, rgba(255, 20, 147, 0.15), rgba(220, 20, 60, 0.08));
      box-shadow: 0 0 40px rgba(255, 20, 147, 0.4), 
                  0 0 80px rgba(192, 192, 192, 0.2),
                  inset 0 -2px 20px rgba(255, 20, 147, 0.2);
    }
    
    .vital-card:nth-child(2) {
      background: linear-gradient(135deg, rgba(255, 140, 0, 0.15), rgba(255, 69, 0, 0.08));
      box-shadow: 0 0 40px rgba(255, 140, 0, 0.4), 
                  0 0 80px rgba(192, 192, 192, 0.2),
                  inset 0 -2px 20px rgba(255, 140, 0, 0.2);
    }
    
    .vital-card:nth-child(3) {
      background: linear-gradient(135deg, rgba(0, 191, 255, 0.15), rgba(30, 144, 255, 0.08));
      box-shadow: 0 0 40px rgba(0, 191, 255, 0.4), 
                  0 0 80px rgba(192, 192, 192, 0.2),
                  inset 0 -2px 20px rgba(0, 191, 255, 0.2);
    }
    
    .vital-card:hover {
      transform: translateY(-8px);
    }
    
    .vital-card:nth-child(1):hover {
      box-shadow: 0 0 60px rgba(255, 20, 147, 0.6), 
                  0 0 100px rgba(192, 192, 192, 0.3),
                  inset 0 -2px 30px rgba(255, 20, 147, 0.3);
    }
    
    .vital-card:nth-child(2):hover {
      box-shadow: 0 0 60px rgba(255, 140, 0, 0.6), 
                  0 0 100px rgba(192, 192, 192, 0.3),
                  inset 0 -2px 30px rgba(255, 140, 0, 0.3);
    }
    
    .vital-card:nth-child(3):hover {
      box-shadow: 0 0 60px rgba(0, 191, 255, 0.6), 
                  0 0 100px rgba(192, 192, 192, 0.3),
                  inset 0 -2px 30px rgba(0, 191, 255, 0.3);
    }
    
    .vital-icon {
      font-size: 72px;
      margin-bottom: 16px;
      display: block;
      filter: drop-shadow(0 0 20px rgba(255, 255, 255, 0.5));
      animation: float 3s ease-in-out infinite;
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }
    
    .vital-label {
      font-size: 16px;
      color: #FFFFFF;
      font-weight: 700;
      letter-spacing: -0.3px;
      text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
    }
    
    .vital-sublabel {
      font-size: 12px;
      color: rgba(255, 255, 255, 0.6);
      margin-top: 8px;
      font-weight: 500;
      letter-spacing: -0.1px;
    }
    
    .primary-button {
      font-family: 'Inter', sans-serif;
      background: #FFFFFF;
      color: #000000;
      border: none;
      padding: 16px 48px;
      border-radius: 12px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      letter-spacing: -0.3px;
    }
    
    .primary-button:hover {
      background: rgba(255, 255, 255, 0.9);
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(255, 255, 255, 0.2);
    }
    
    .primary-button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }
    
    /* Onboarding Page */
    .onboarding-content {
      max-width: 1000px;
      margin: 0 auto;
    }
    
    .onboarding-header {
      text-align: center;
      margin-bottom: 64px;
    }
    
    .page-title {
      font-family: 'Inter', sans-serif;
      font-size: 48px;
      font-weight: 800;
      color: #FFFFFF;
      margin-bottom: 16px;
      letter-spacing: -1.5px;
    }
    
    .page-subtitle {
      font-size: 16px;
      color: rgba(255, 255, 255, 0.5);
      letter-spacing: -0.2px;
      font-weight: 400;
    }
    
    .feature-cards {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 24px;
      margin-bottom: 48px;
    }
    
    .feature-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 24px;
      padding: 32px;
      display: flex;
      gap: 24px;
      align-items: start;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }
    
    .feature-card::before {
      content: '';
      position: absolute;
      inset: -2px;
      border-radius: 24px;
      padding: 2px;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.05));
      -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      -webkit-mask-composite: xor;
      mask-composite: exclude;
      opacity: 0;
      transition: opacity 0.4s ease;
    }

    .feature-card::after {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: 24px;
      padding: 1px;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.15), transparent);
      -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      -webkit-mask-composite: xor;
      mask-composite: exclude;
      pointer-events: none;
    }
    
    .feature-card:hover {
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(30px);
      -webkit-backdrop-filter: blur(30px);
      border-color: rgba(255, 255, 255, 0.2);
      transform: translateY(-8px) scale(1.02);
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5),
                  0 0 80px rgba(255, 255, 255, 0.15),
                  inset 0 0 60px rgba(255, 255, 255, 0.03);
    }
    
    .feature-card:hover::before {
      opacity: 1;
    }
    
    .feature-icon {
      font-size: 48px;
      flex-shrink: 0;
    }
    
    .feature-content h3 {
      font-family: 'Inter', sans-serif;
      font-size: 18px;
      color: #FFFFFF;
      margin-bottom: 10px;
      font-weight: 700;
      letter-spacing: -0.4px;
    }
    
    .feature-content p {
      color: rgba(255, 255, 255, 0.7);
      line-height: 1.5;
      font-size: 14px;
      letter-spacing: -0.2px;
      font-weight: 400;
    }
    
    /* Dashboard Page */
    .dashboard-section {
      margin-bottom: 48px;
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 32px;
    }

    .section-header-left h2 {
      margin: 0;
    }

    .active-players-badge {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 10px 20px;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 10px;
    }

    .active-players-text {
      font-size: 13px;
      color: rgba(255, 255, 255, 0.6);
      font-weight: 500;
      letter-spacing: -0.2px;
    }

    .active-players-text strong {
      color: #FFFFFF;
      font-weight: 700;
      font-size: 16px;
      margin-left: 4px;
    }

    .section-title {
      font-family: 'Inter', sans-serif;
      font-size: 20px;
      font-weight: 700;
      color: #FFFFFF;
      margin-bottom: 8px;
      letter-spacing: -0.5px;
    }

    .section-description {
      font-size: 14px;
      color: rgba(255, 255, 255, 0.5);
      margin-bottom: 24px;
      letter-spacing: -0.2px;
      font-weight: 400;
    }

    .status-cards-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 24px;
      margin-bottom: 32px;
    }
    
    .status-card {
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 20px;
      padding: 32px 24px;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }
    
    .status-card::before {
      content: '';
      position: absolute;
      inset: -2px;
      border-radius: 16px;
      padding: 2px;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.02));
      -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      -webkit-mask-composite: xor;
      mask-composite: exclude;
      opacity: 0;
      transition: opacity 0.4s ease;
    }
    
    .status-card-inner {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      gap: 12px;
    }
    
    .status-3d-icon {
      width: 80px;
      height: 80px;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3));
    }
    
    .status-3d-icon svg {
      width: 100%;
      height: 100%;
    }
    
    .status-label {
      font-family: 'Inter', sans-serif;
      font-size: 14px;
      font-weight: 700;
      color: #FFFFFF;
      letter-spacing: -0.2px;
    }
    
    .status-count {
      font-family: 'Inter', sans-serif;
      font-size: 32px;
      font-weight: 800;
      color: #FFFFFF;
      line-height: 1;
      letter-spacing: -1px;
    }
    
    .status-card:hover {
      transform: translateY(-8px);
    }
    
    .status-card:hover::before {
      opacity: 1;
    }
    
    .status-card:hover .status-3d-icon {
      transform: scale(1.1) translateY(-5px);
    }
    
    .status-card.status-optimal {
      background: rgba(16, 185, 129, 0.05);
      border-color: rgba(16, 185, 129, 0.2);
      box-shadow: 0 0 30px rgba(16, 185, 129, 0.3),
                  0 0 60px rgba(16, 185, 129, 0.15),
                  inset 0 0 40px rgba(16, 185, 129, 0.08);
    }

    .status-card.status-optimal:hover {
      background: rgba(16, 185, 129, 0.08);
      border-color: rgba(16, 185, 129, 0.3);
      box-shadow: 0 0 40px rgba(16, 185, 129, 0.4),
                  0 0 80px rgba(16, 185, 129, 0.2),
                  inset 0 0 60px rgba(16, 185, 129, 0.1);
    }
    
    .status-card.status-moderate {
      background: rgba(245, 158, 11, 0.05);
      border-color: rgba(245, 158, 11, 0.2);
      box-shadow: 0 0 30px rgba(245, 158, 11, 0.3),
                  0 0 60px rgba(245, 158, 11, 0.15),
                  inset 0 0 40px rgba(245, 158, 11, 0.08);
    }

    .status-card.status-moderate:hover {
      background: rgba(245, 158, 11, 0.08);
      border-color: rgba(245, 158, 11, 0.3);
      box-shadow: 0 0 40px rgba(245, 158, 11, 0.4),
                  0 0 80px rgba(245, 158, 11, 0.2),
                  inset 0 0 60px rgba(245, 158, 11, 0.1);
    }
    
    .status-card.status-fatigued {
      background: rgba(239, 68, 68, 0.05);
      border-color: rgba(239, 68, 68, 0.2);
      box-shadow: 0 0 30px rgba(239, 68, 68, 0.3),
                  0 0 60px rgba(239, 68, 68, 0.15),
                  inset 0 0 40px rgba(239, 68, 68, 0.08);
    }

    .status-card.status-fatigued:hover {
      background: rgba(239, 68, 68, 0.08);
      border-color: rgba(239, 68, 68, 0.3);
      box-shadow: 0 0 40px rgba(239, 68, 68, 0.4),
                  0 0 80px rgba(239, 68, 68, 0.2),
                  inset 0 0 60px rgba(239, 68, 68, 0.1);
    }

    .stat-icon {
      font-size: 32px;
      margin-bottom: 16px;
      display: block;
    }

    /* Performance Trends */
    .trend-container {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      padding: 28px;
      position: relative;
      overflow: hidden;
    }

    .trend-container::before {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: 20px;
      padding: 1px;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.15), transparent);
      -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      -webkit-mask-composite: xor;
      mask-composite: exclude;
      pointer-events: none;
    }

    .trend-controls {
      display: flex;
      gap: 8px;
      margin-bottom: 24px;
      flex-wrap: wrap;
    }

    .trend-tab {
      font-family: 'Inter', sans-serif;
      background: rgba(255, 255, 255, 0.05);
      color: rgba(255, 255, 255, 0.5);
      border: 1px solid rgba(255, 255, 255, 0.06);
      padding: 10px 20px;
      border-radius: 8px;
      font-size: 13px;
      font-weight: 600;
      letter-spacing: -0.2px;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .trend-tab:hover {
      background: rgba(255, 255, 255, 0.08);
      color: rgba(255, 255, 255, 0.8);
    }

    .trend-tab.active {
      background: #FFFFFF;
      color: #000000;
      border-color: #FFFFFF;
    }

    .trend-chart {
      min-height: 300px;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 12px;
      position: relative;
    }

    .trend-display {
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 40px;
    }

    .chart-placeholder {
      text-align: center;
      color: rgba(255, 255, 255, 0.3);
    }

    .chart-icon {
      font-size: 64px;
      margin-bottom: 16px;
      opacity: 0.5;
    }

    .chart-placeholder p {
      font-size: 14px;
      line-height: 1.6;
      margin-bottom: 8px;
      color: rgba(255, 255, 255, 0.4);
    }

    .chart-note {
      font-size: 12px;
      color: rgba(255, 255, 255, 0.3);
      font-weight: 500;
    }

    .view-analytics-button {
      margin-top: 20px;
      background: #FFFFFF;
      color: #000000;
      border: none;
      padding: 12px 32px;
      border-radius: 10px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      letter-spacing: -0.2px;
    }

    .view-analytics-button:hover {
      background: rgba(255, 255, 255, 0.9);
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(255, 255, 255, 0.2);
    }

    /* Dashboard Actions */
    .dashboard-actions {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      margin-top: 48px;
    }

    .action-large {
      padding: 32px 24px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      font-size: 16px;
      position: relative;
      overflow: hidden;
    }

    .button-icon {
      font-size: 40px;
      display: block;
      margin-bottom: 8px;
    }

    .button-icon-3d {
      margin-bottom: 8px;
      transition: transform 0.3s ease;
    }

    .session-button {
      background: rgba(0, 0, 0, 0.6);
      color: #FFFFFF;
      border: 1px solid rgba(255, 255, 255, 0.15);
      padding: 32px 24px;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      font-size: 16px;
      position: relative;
      overflow: hidden;
      border-radius: 16px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: 'Inter', sans-serif;
      font-weight: 600;
      letter-spacing: -0.3px;
    }

    .session-button:hover {
      background: rgba(0, 0, 0, 0.8);
      border-color: rgba(255, 255, 255, 0.25);
      transform: translateY(-4px);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
    }

    .session-button:hover .button-icon-3d {
      transform: scale(1.1);
    }

    .button-subtitle {
      font-size: 13px;
      font-weight: 500;
      opacity: 0.6;
      letter-spacing: -0.2px;
    }
    
    .action-buttons {
      display: flex;
      gap: 16px;
      margin-top: 32px;
      flex-wrap: wrap;
    }
    
    .secondary-button {
      background: rgba(255, 255, 255, 0.05);
      color: #FFFFFF;
      border: 1px solid rgba(255, 255, 255, 0.1);
      padding: 12px 32px;
      border-radius: 10px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      letter-spacing: -0.2px;
    }
    
    .secondary-button:hover {
      background: rgba(255, 255, 255, 0.08);
      border-color: rgba(255, 255, 255, 0.15);
    }
    
    /* Player List Page */
    .player-list-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 32px;
      flex-wrap: wrap;
      gap: 16px;
    }
    
    .add-player-button {
      background: #FFFFFF;
      color: #000000;
      border: none;
      padding: 12px 28px;
      border-radius: 10px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      letter-spacing: -0.2px;
    }
    
    .add-player-button:hover {
      background: rgba(255, 255, 255, 0.9);
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(255, 255, 255, 0.2);
    }

    .filter-indicator {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 16px;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 8px;
      font-size: 13px;
      color: rgba(255, 255, 255, 0.7);
    }

    .filter-badge {
      padding: 4px 10px;
      border-radius: 6px;
      font-weight: 600;
      font-size: 11px;
    }

    .filter-badge.optimal {
      background: rgba(16, 185, 129, 0.15);
      color: #10B981;
    }

    .filter-badge.moderate {
      background: rgba(245, 158, 11, 0.15);
      color: #F59E0B;
    }

    .filter-badge.fatigued {
      background: rgba(239, 68, 68, 0.15);
      color: #EF4444;
    }

    .clear-filter-btn {
      background: none;
      border: none;
      color: rgba(255, 255, 255, 0.5);
      cursor: pointer;
      padding: 4px;
      display: flex;
      align-items: center;
      font-size: 16px;
      transition: all 0.2s ease;
    }

    .clear-filter-btn:hover {
      color: #FFFFFF;
    }
    
    .player-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 24px;
    }
    
    .player-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 24px;
      padding: 32px;
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }

    .player-card::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.05));
      border-radius: 20px;
      z-index: -1;
      opacity: 0;
      transition: opacity 0.4s ease;
    }

    .player-card::after {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: 20px;
      padding: 1px;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), transparent);
      -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      -webkit-mask-composite: xor;
      mask-composite: exclude;
      pointer-events: none;
    }
    
    .player-card:hover {
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(30px);
      -webkit-backdrop-filter: blur(30px);
      border-color: rgba(255, 255, 255, 0.2);
      transform: translateY(-8px) scale(1.02);
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5),
                  0 0 80px rgba(255, 255, 255, 0.1);
    }

    .player-card:hover::before {
      opacity: 1;
    }

    .player-card[data-status="Normal"]:hover {
      box-shadow: 0 20px 60px rgba(16, 185, 129, 0.4),
                  0 0 100px rgba(16, 185, 129, 0.2),
                  inset 0 0 60px rgba(16, 185, 129, 0.05);
      border-color: rgba(16, 185, 129, 0.4);
    }

    .player-card[data-status="Moderate"]:hover {
      box-shadow: 0 20px 60px rgba(245, 158, 11, 0.4),
                  0 0 100px rgba(245, 158, 11, 0.2),
                  inset 0 0 60px rgba(245, 158, 11, 0.05);
      border-color: rgba(245, 158, 11, 0.4);
    }

    .player-card[data-status="Fatigued"]:hover {
      box-shadow: 0 20px 60px rgba(239, 68, 68, 0.4),
                  0 0 100px rgba(239, 68, 68, 0.2),
                  inset 0 0 60px rgba(239, 68, 68, 0.05);
      border-color: rgba(239, 68, 68, 0.4);
    }
    
    .player-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .player-info-section {
      display: flex;
      align-items: center;
      gap: 16px;
      flex: 1;
    }

    .player-sphere {
      width: 60px;
      height: 60px;
      flex-shrink: 0;
    }

    .player-sphere svg {
      width: 100%;
      height: 100%;
      filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.3));
    }

    .player-info {
      flex: 1;
    }
    
    .player-name {
      font-family: 'Inter', sans-serif;
      font-size: 16px;
      font-weight: 700;
      color: #FFFFFF;
      letter-spacing: -0.3px;
      margin-bottom: 4px;
    }

    .player-role {
      font-size: 12px;
      color: rgba(255, 255, 255, 0.4);
      font-weight: 500;
    }
    
    .status-badge {
      font-family: 'Inter', sans-serif;
      padding: 6px 12px;
      border-radius: 6px;
      font-size: 11px;
      font-weight: 600;
      letter-spacing: -0.1px;
    }
    
    .status-normal {
      background: rgba(16, 185, 129, 0.15);
      color: #10B981;
    }
    
    .status-elevated {
      background: rgba(245, 158, 11, 0.15);
      color: #F59E0B;
    }
    
    .status-fatigued {
      background: rgba(239, 68, 68, 0.15);
      color: #EF4444;
    }

    .energy-bar-section {
      margin-bottom: 16px;
    }

    .energy-label {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
      font-size: 12px;
      color: rgba(255, 255, 255, 0.5);
      font-weight: 600;
    }

    .energy-percentage {
      color: #FFFFFF;
    }

    .energy-bar {
      width: 100%;
      height: 8px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 4px;
      overflow: hidden;
    }

    .energy-bar-fill {
      height: 100%;
      border-radius: 4px;
      transition: width 0.3s ease;
    }

    .energy-bar-fill.optimal {
      background: linear-gradient(90deg, #10B981, #34D399);
    }

    .energy-bar-fill.moderate {
      background: linear-gradient(90deg, #F59E0B, #FBBF24);
    }

    .energy-bar-fill.fatigued {
      background: linear-gradient(90deg, #EF4444, #F87171);
    }
    
    .player-vitals {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    
    .vital-row {
      display: flex;
      justify-content: space-between;
      font-size: 14px;
    }
    
    .vital-row-label {
      color: rgba(255, 255, 255, 0.5);
      font-size: 13px;
      font-weight: 500;
      letter-spacing: -0.2px;
    }
    
    .vital-row-value {
      font-family: 'Inter', sans-serif;
      color: #FFFFFF;
      font-weight: 600;
      letter-spacing: -0.2px;
    }
    
    /* Modal */
    .modal-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(10px);
      z-index: 200;
      align-items: center;
      justify-content: center;
      padding: 24px;
    }
    
    .modal-overlay.active {
      display: flex;
    }
    
    .modal {
      background: rgba(20, 20, 20, 0.95);
      backdrop-filter: blur(40px);
      -webkit-backdrop-filter: blur(40px);
      border: 1px solid rgba(255, 255, 255, 0.15);
      border-radius: 28px;
      padding: 40px;
      max-width: 520px;
      width: 100%;
      max-height: 90%;
      overflow-y: auto;
      box-shadow: 0 30px 80px rgba(0, 0, 0, 0.7),
                  0 0 100px rgba(255, 255, 255, 0.1),
                  inset 0 0 80px rgba(255, 255, 255, 0.02);
      position: relative;
    }

    .modal::before {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: 24px;
      padding: 1px;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.3), rgba(255, 255, 255, 0.05));
      -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      -webkit-mask-composite: xor;
      mask-composite: exclude;
      pointer-events: none;
    }
    
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 32px;
    }
    
    .modal-title {
      font-family: 'Inter', sans-serif;
      font-size: 24px;
      font-weight: 700;
      color: #FFFFFF;
      letter-spacing: -0.5px;
    }
    
    .close-button {
      background: rgba(255, 255, 255, 0.05);
      border: none;
      color: rgba(255, 255, 255, 0.5);
      font-size: 24px;
      cursor: pointer;
      padding: 0;
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 8px;
      transition: all 0.2s ease;
    }
    
    .close-button:hover {
      background: rgba(255, 255, 255, 0.1);
      color: #FFFFFF;
    }
    
    .form-group {
      margin-bottom: 24px;
    }
    
    .form-label {
      display: block;
      font-size: 13px;
      font-weight: 600;
      color: #FFFFFF;
      margin-bottom: 8px;
      letter-spacing: -0.2px;
    }
    
    .form-input {
      width: 100%;
      background: #000000;
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      padding: 12px 16px;
      color: #FFFFFF;
      font-size: 14px;
      font-family: inherit;
      font-weight: 500;
      transition: all 0.2s ease;
    }
    
    .form-input:focus {
      outline: none;
      background: #000000;
      border-color: rgba(255, 255, 255, 0.2);
    }

    .form-input option {
      background: #000000;
      color: #FFFFFF;
    }

    .form-slider {
      width: 100%;
      height: 6px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 3px;
      outline: none;
      -webkit-appearance: none;
      appearance: none;
      margin: 12px 0;
    }

    .form-slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 20px;
      height: 20px;
      background: #FFFFFF;
      border-radius: 50%;
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
      transition: all 0.2s ease;
    }

    .form-slider::-webkit-slider-thumb:hover {
      transform: scale(1.1);
      box-shadow: 0 4px 12px rgba(255, 255, 255, 0.3);
    }

    .form-slider::-moz-range-thumb {
      width: 20px;
      height: 20px;
      background: #FFFFFF;
      border-radius: 50%;
      cursor: pointer;
      border: none;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
      transition: all 0.2s ease;
    }

    .form-slider::-moz-range-thumb:hover {
      transform: scale(1.1);
      box-shadow: 0 4px 12px rgba(255, 255, 255, 0.3);
    }

    .slider-labels {
      display: flex;
      justify-content: space-between;
      font-size: 11px;
      color: rgba(255, 255, 255, 0.4);
      margin-top: 4px;
      font-weight: 500;
    }
    
    .form-buttons {
      display: flex;
      gap: 12px;
      margin-top: 32px;
    }
    
    .form-buttons button {
      flex: 1;
    }
    
    .loading-indicator {
      text-align: center;
      padding: 24px;
      color: rgba(255, 255, 255, 0.5);
    }
    
    .empty-state {
      text-align: center;
      padding: 64px 24px;
      color: rgba(255, 255, 255, 0.3);
    }
    
    .empty-state h3 {
      font-family: 'Inter', sans-serif;
      color: #FFFFFF;
      font-weight: 700;
      letter-spacing: -0.5px;
      margin-bottom: 8px;
    }
    
    .empty-state-icon {
      font-size: 64px;
      margin-bottom: 16px;
      opacity: 0.3;
    }

    /* JARVIS ORBITAL INTERFACE */
    .jarvis-container {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 10px 40px 20px 40px;
      margin-bottom: 20px;
      position: relative;
      min-height: 550px;
      background: #000000;
    }

    /* Comparison Panel */
    .comparison-panel {
      position: absolute;
      background: rgba(10, 10, 10, 0.95);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 2px solid currentColor;
      border-radius: 20px;
      padding: 24px;
      width: 280px;
      opacity: 0;
      transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      pointer-events: none;
      box-shadow: 0 0 40px currentColor,
                  0 20px 60px rgba(0, 0, 0, 0.8);
      z-index: 20;
    }

    .comparison-panel.active {
      opacity: 1;
      pointer-events: all;
    }

    .comparison-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      padding-bottom: 12px;
    }

    .comparison-title {
      font-family: 'Orbitron', sans-serif;
      font-size: 14px;
      font-weight: 700;
      color: #FFFFFF;
      letter-spacing: 1px;
      text-transform: uppercase;
    }

    .comparison-close {
      background: rgba(255, 255, 255, 0.05);
      border: none;
      color: rgba(255, 255, 255, 0.5);
      font-size: 20px;
      cursor: pointer;
      padding: 0;
      width: 28px;
      height: 28px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 6px;
      transition: all 0.2s ease;
    }

    .comparison-close:hover {
      background: rgba(255, 255, 255, 0.1);
      color: #FFFFFF;
    }

    .comparison-stat {
      margin-bottom: 16px;
    }

    .comparison-stat-label {
      font-size: 11px;
      color: rgba(255, 255, 255, 0.5);
      font-weight: 600;
      letter-spacing: 0.5px;
      text-transform: uppercase;
      margin-bottom: 8px;
    }

    .comparison-values {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .comparison-value {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .comparison-value-label {
      font-size: 10px;
      color: rgba(255, 255, 255, 0.4);
      font-weight: 600;
      letter-spacing: 0.5px;
    }

    .comparison-value-number {
      font-family: 'Orbitron', sans-serif;
      font-size: 24px;
      font-weight: 900;
      color: #FFFFFF;
      line-height: 1;
    }

    .comparison-change {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 13px;
      font-weight: 700;
      padding: 6px 12px;
      border-radius: 8px;
    }

    .comparison-change.positive {
      background: rgba(16, 185, 129, 0.15);
      color: #10B981;
    }

    .comparison-change.negative {
      background: rgba(239, 68, 68, 0.15);
      color: #EF4444;
    }

    .comparison-change.neutral {
      background: rgba(255, 255, 255, 0.05);
      color: rgba(255, 255, 255, 0.6);
    }

    .comparison-arrow {
      font-size: 14px;
    }

    .connecting-line {
      position: absolute;
      stroke: currentColor;
      stroke-width: 2;
      stroke-dasharray: 5, 5;
      opacity: 0.5;
      pointer-events: none;
      z-index: 15;
    }

    /* Particle System */
    .particle-container {
      position: absolute;
      inset: 0;
      pointer-events: none;
      overflow: visible;
      z-index: 5;
    }

    .particle {
      position: absolute;
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: currentColor;
      box-shadow: 0 0 16px currentColor, 0 0 24px currentColor;
      pointer-events: none;
      opacity: 0;
    }
    
    .particle.large {
      width: 12px;
      height: 12px;
      box-shadow: 0 0 20px currentColor, 0 0 32px currentColor;
    }

    @keyframes particle-flow-in {
      0% {
        opacity: 0;
        transform: translate(0, 0) scale(0);
      }
      20% {
        opacity: 1;
      }
      80% {
        opacity: 0.8;
      }
      100% {
        opacity: 0;
        transform: translate(var(--tx), var(--ty)) scale(0.3);
      }
    }

    @keyframes particle-float {
      0%, 100% {
        transform: translate(0, 0);
      }
      25% {
        transform: translate(10px, -10px);
      }
      50% {
        transform: translate(-5px, -20px);
      }
      75% {
        transform: translate(-10px, -10px);
      }
    }

    /* Warning Indicators */
    .warning-orbit {
      position: absolute;
      width: 260px;
      height: 260px;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      border-radius: 50%;
      pointer-events: none;
      z-index: 11;
    }

    .warning-icon {
      position: absolute;
      font-size: 24px;
      filter: drop-shadow(0 0 8px currentColor);
      animation: warning-orbit 6s linear infinite;
    }

    @keyframes warning-orbit {
      0% {
        transform: rotate(0deg) translateX(130px) rotate(0deg);
      }
      100% {
        transform: rotate(360deg) translateX(130px) rotate(-360deg);
      }
    }

    .warning-icon.warning-1 {
      animation-delay: 0s;
    }

    .warning-icon.warning-2 {
      animation-delay: -2s;
    }

    .warning-icon.warning-3 {
      animation-delay: -4s;
    }

    /* Reactor Aura */
    .reactor-aura {
      position: absolute;
      inset: -40px;
      border-radius: 50%;
      background: radial-gradient(circle, currentColor 0%, transparent 70%);
      opacity: 0.15;
      pointer-events: none;
      animation: aura-pulse 2s ease-in-out infinite;
      z-index: 1;
    }

    @keyframes aura-pulse {
      0%, 100% {
        opacity: 0.15;
        transform: scale(1);
      }
      50% {
        opacity: 0.25;
        transform: scale(1.05);
      }
    }

    .reactor-aura.intense {
      animation: aura-pulse-intense 1s ease-in-out infinite;
    }

    @keyframes aura-pulse-intense {
      0%, 100% {
        opacity: 0.3;
        transform: scale(1);
      }
      50% {
        opacity: 0.5;
        transform: scale(1.1);
      }
    }

    /* Shake animation for threshold crossing */
    @keyframes threshold-shake {
      0%, 100% { transform: translate(-50%, -50%) translateX(0); }
      10%, 30%, 50%, 70%, 90% { transform: translate(-50%, -50%) translateX(-5px); }
      20%, 40%, 60%, 80% { transform: translate(-50%, -50%) translateX(5px); }
    }

    .shake-animation {
      animation: threshold-shake 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* Faster pulse when fatigued */
    @keyframes pulse-fast {
      0%, 100% { 
        transform: translate(-50%, -50%) translateY(0px);
      }
      50% { 
        transform: translate(-50%, -50%) translateY(-12px);
      }
    }

    .reactor-fatigued {
      animation: pulse-fast 1.5s ease-in-out infinite !important;
    }

    /* Heat trail */
    .heat-trail {
      position: absolute;
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: radial-gradient(circle, currentColor, transparent);
      pointer-events: none;
      opacity: 0;
      z-index: 9;
    }

    @keyframes trail-fade {
      0% {
        opacity: 0.8;
        transform: scale(1);
      }
      100% {
        opacity: 0;
        transform: scale(2);
      }
    }

    /* Team stats overlay */
    .team-stats-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.9);
      backdrop-filter: blur(20px);
      z-index: 250;
      display: none;
      align-items: center;
      justify-content: center;
      padding: 40px;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .team-stats-overlay.active {
      display: flex;
      opacity: 1;
    }

    .team-stats-content {
      background: rgba(20, 20, 20, 0.95);
      border: 2px solid rgba(255, 255, 255, 0.2);
      border-radius: 24px;
      padding: 40px;
      max-width: 800px;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: 0 30px 80px rgba(0, 0, 0, 0.8);
    }

    .team-stats-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 32px;
      padding-bottom: 16px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .team-stats-title {
      font-family: 'Orbitron', sans-serif;
      font-size: 28px;
      font-weight: 900;
      color: #FFFFFF;
      letter-spacing: 1px;
    }

    .team-stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 24px;
    }

    .team-stat-card {
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      padding: 24px;
      text-align: center;
    }

    .team-stat-label {
      font-size: 12px;
      color: rgba(255, 255, 255, 0.5);
      font-weight: 600;
      letter-spacing: 1px;
      text-transform: uppercase;
      margin-bottom: 12px;
    }

    .team-stat-value {
      font-family: 'Orbitron', sans-serif;
      font-size: 36px;
      font-weight: 900;
      color: #FFFFFF;
      line-height: 1;
    }

    .team-stat-sublabel {
      font-size: 11px;
      color: rgba(255, 255, 255, 0.4);
      margin-top: 8px;
    }

    /* Sparkline chart */
    .sparkline-container {
      position: absolute;
      background: rgba(10, 10, 10, 0.95);
      backdrop-filter: blur(20px);
      border: 2px solid currentColor;
      border-radius: 12px;
      padding: 16px;
      width: 200px;
      opacity: 0;
      transform: translateY(-10px);
      transition: all 0.3s ease;
      pointer-events: none;
      box-shadow: 0 0 30px currentColor, 0 10px 40px rgba(0, 0, 0, 0.8);
      z-index: 30;
    }

    .sparkline-container.active {
      opacity: 1;
      transform: translateY(0);
      pointer-events: all;
    }

    .sparkline-title {
      font-family: 'Orbitron', sans-serif;
      font-size: 11px;
      font-weight: 700;
      color: #FFFFFF;
      letter-spacing: 1px;
      text-transform: uppercase;
      margin-bottom: 12px;
    }

    .sparkline-canvas {
      width: 100%;
      height: 60px;
      background: rgba(0, 0, 0, 0.5);
      border-radius: 6px;
    }

    /* Burst animation for 100% energy */
    @keyframes energy-burst {
      0% {
        transform: translate(-50%, -50%) scale(1);
        opacity: 1;
      }
      100% {
        transform: translate(-50%, -50%) scale(2.5);
        opacity: 0;
      }
    }

    .energy-burst-ring {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 240px;
      height: 240px;
      border: 3px solid currentColor;
      border-radius: 50%;
      pointer-events: none;
      opacity: 0;
      z-index: 20;
    }

    .energy-burst-ring.animate {
      animation: energy-burst 1s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    }

    .celebration-particle {
      position: absolute;
      font-size: 24px;
      pointer-events: none;
      opacity: 0;
      z-index: 25;
    }

    @keyframes celebration-burst {
      0% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(0) rotate(0deg);
      }
      50% {
        opacity: 1;
      }
      100% {
        opacity: 0;
        transform: translate(var(--tx), var(--ty)) scale(1.5) rotate(360deg);
      }
    }

    .orbital-system {
      position: relative;
      width: 600px;
      height: 600px;
    }

    /* Central Reactor Core */
    .central-reactor {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 240px;
      height: 240px;
      z-index: 10;
      animation: float-reactor 3.5s ease-in-out infinite;
    }

    @keyframes float-reactor {
      0%, 100% { 
        transform: translate(-50%, -50%) translateY(0px);
      }
      50% { 
        transform: translate(-50%, -50%) translateY(-18px);
      }
    }

    @keyframes bounce-smooth {
      0% {
        transform: translate(-50%, -50%) scale(1);
      }
      25% {
        transform: translate(-50%, -50%) scale(0.9);
      }
      50% {
        transform: translate(-50%, -50%) scale(1.08);
      }
      75% {
        transform: translate(-50%, -50%) scale(0.98);
      }
      100% {
        transform: translate(-50%, -50%) scale(1);
      }
    }

    .reactor-svg {
      width: 100%;
      height: 100%;
      filter: drop-shadow(0 0 40px currentColor);
    }

    /* Orbital Data Rings - Positioned in Circle */
    .orbital-data-ring {
      position: absolute;
      width: 160px;
      height: 160px;
      animation: float-orbital 4.5s ease-in-out infinite;
    }

    @keyframes float-orbital {
      0%, 100% { 
        transform: translate(-50%, -50%) translateY(0px);
      }
      50% { 
        transform: translate(-50%, -50%) translateY(-6px);
      }
    }

    /* Top Position (Heart Rate - Electric Purple) */
    .orbital-top {
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      margin-top: -200px;
      color: #A855F7;
      animation-delay: 0s;
    }

    /* Right Position (Temperature - Neon Pink) */
    .orbital-right {
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      margin-left: 200px;
      color: #EC4899;
      animation-delay: 1.3s;
    }

    /* Left Position (Blood Oxygen - Electric Blue) */
    .orbital-left {
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      margin-left: -200px;
      color: #3B82F6;
      animation-delay: 2.6s;
    }

    .orbital-svg {
      width: 100%;
      height: 100%;
      filter: drop-shadow(0 0 20px currentColor);
    }

    /* Haptic Feedback Pulse Effects */
    @keyframes haptic-pulse {
      0% {
        transform: scale(1);
        box-shadow: 0 0 0 0 currentColor;
      }
      30% {
        transform: scale(0.92);
      }
      60% {
        transform: scale(1.08);
      }
      80% {
        transform: scale(0.98);
      }
      100% {
        transform: scale(1);
        box-shadow: 0 0 0 20px transparent;
      }
    }

    @keyframes haptic-ripple {
      0% {
        transform: scale(1);
        opacity: 1;
      }
      100% {
        transform: scale(2.5);
        opacity: 0;
      }
    }

    @keyframes haptic-glow-burst {
      0% {
        filter: drop-shadow(0 0 5px currentColor);
      }
      50% {
        filter: drop-shadow(0 0 25px currentColor) brightness(1.3);
      }
      100% {
        filter: drop-shadow(0 0 5px currentColor);
      }
    }

    .haptic-active {
      animation: haptic-pulse 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .haptic-ripple-container {
      position: absolute;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
      border-radius: inherit;
    }

    .haptic-ripple {
      position: absolute;
      border-radius: 50%;
      background: radial-gradient(circle, currentColor 0%, transparent 70%);
      opacity: 0.6;
      animation: haptic-ripple 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
      pointer-events: none;
    }

    .haptic-glow {
      animation: haptic-glow-burst 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* Enhanced button interactions */
    .primary-button:active,
    .secondary-button:active,
    .add-player-button:active {
      animation: haptic-pulse 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    @media (max-width: 768px) {
      .welcome-title {
        font-size: 56px;
      }
      
      .page-title {
        font-size: 36px;
      }

      .section-title {
        font-size: 18px;
      }
      
      .nav-bar {
        padding: 16px 24px;
      }
      
      .page {
        padding: 24px 16px;
      }
      
      .nav-links {
        gap: 4px;
      }
      
      .nav-link {
        padding: 6px 12px;
        font-size: 12px;
      }
      
      .vitals-preview {
        gap: 24px;
      }

      .feature-cards {
        grid-template-columns: 1fr;
      }

      .dashboard-actions {
        grid-template-columns: 1fr;
      }

      .trend-controls {
        flex-direction: column;
      }

      .trend-tab {
        width: 100%;
      }

      .status-cards-grid {
        grid-template-columns: 1fr;
      }

      .section-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 16px;
      }

      .orbital-system {
        width: 100%;
        max-width: 400px;
        height: 500px;
      }

      .central-reactor {
        width: 180px;
        height: 180px;
      }

      .orbital-data-ring {
        width: 120px;
        height: 120px;
      }

      .jarvis-container {
        padding: 20px 20px;
        min-height: 550px;
      }
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div class="app-container">
   <nav class="nav-bar">
    <div class="logo" id="app-title">
     SYNQ
    </div>
    <div class="nav-links"><span class="nav-link active" data-page="welcome">Home</span> <span class="nav-link" data-page="onboarding">Features</span> <span class="nav-link" data-page="dashboard">Dashboard</span> <span class="nav-link" data-page="athletes">Athletes</span>
    </div>
   </nav><!-- Welcome Page -->
   <main id="welcome" class="page active">
    <div class="welcome-screen">
     <h1 class="welcome-title" id="welcome-title">SYNQ</h1>
     <p class="welcome-subtitle" id="welcome-subtitle">Athletic Intelligence Platform</p>
     <div class="vitals-preview">
      <div class="vital-card"><span class="vital-icon">‚ù§Ô∏è</span>
       <div class="vital-label">
        Heart Rate
       </div>
       <div class="vital-sublabel">
        Real-time monitoring
       </div>
      </div>
      <div class="vital-card"><span class="vital-icon">üå°Ô∏è</span>
       <div class="vital-label">
        Temperature
       </div>
       <div class="vital-sublabel">
        Body heat tracking
       </div>
      </div>
      <div class="vital-card"><span class="vital-icon">üí®</span>
       <div class="vital-label">
        Blood Oxygen
       </div>
       <div class="vital-sublabel">
        SpO‚ÇÇ saturation
       </div>
      </div>
     </div><button class="primary-button" id="get-started-button" onclick="navigateToPage('dashboard')">Get Started</button>
    </div>
   </main><!-- Onboarding Page -->
   <main id="onboarding" class="page">
    <div class="page-content onboarding-content">
     <div class="onboarding-header">
      <h1 class="page-title">How SYNQ Works</h1>
      <p class="page-subtitle">Peak athlete's performance</p>
     </div>
     <div class="feature-cards">
      <div class="feature-card">
       <div class="feature-icon">
        ‚ö°
       </div>
       <div class="feature-content">
        <h3>AI-Powered Analysis</h3>
        <p>Advanced machine learning analyzes vital sign patterns to detect fatigue before it impacts performance.</p>
       </div>
      </div>
      <div class="feature-card">
       <div class="feature-icon">
        üìä
       </div>
       <div class="feature-content">
        <h3>Performance Tracking</h3>
        <p>Track trends over time with historical data visualization and identify patterns in training load.</p>
       </div>
      </div>
      <div class="feature-card">
       <div class="feature-icon">
        üîî
       </div>
       <div class="feature-content">
        <h3>Smart Alerts</h3>
        <p>Receive instant notifications when vitals cross critical thresholds to prevent overtraining.</p>
       </div>
      </div>
      <div class="feature-card">
       <div class="feature-icon">
        üë§
       </div>
       <div class="feature-content">
        <h3>Player Profiles</h3>
        <p>Individual profiles with baseline metrics, current status, and personalized AI recommendations.</p>
       </div>
      </div>
     </div>
     <div class="action-buttons"><button class="primary-button" onclick="navigateToPage('dashboard')">View Dashboard</button> <button class="secondary-button" onclick="navigateToPage('players')">Manage Players</button>
     </div>
    </div>
   </main><!-- Dashboard Page -->
   <main id="dashboard" class="page">
    <div class="page-content">
     <div class="onboarding-header">
      <h1 class="page-title">Team Dashboard</h1>
     </div><!-- Team Overview -->
     <div class="dashboard-section">
      <div class="section-header">
       <div class="section-header-left">
        <h2 class="section-title">Team Overview</h2>
       </div>
       <div class="active-players-badge"><span class="active-players-text">Active Players: <strong id="total-players">0</strong></span>
       </div>
      </div>
      <div class="status-cards-grid">
       <div class="status-card status-optimal" data-status="optimal" onclick="filterPlayersByStatus('Normal', event)">
        <div class="status-card-inner">
         <div class="status-3d-icon">
          <svg viewbox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"><defs>
            <lineargradient id="greenGrad1" x1="0%" y1="0%" x2="0%" y2="100%">
             <stop offset="0%" style="stop-color:#34D399;stop-opacity:1" />
             <stop offset="100%" style="stop-color:#10B981;stop-opacity:1" />
            </lineargradient>
            <lineargradient id="greenGrad2" x1="0%" y1="0%" x2="0%" y2="100%">
             <stop offset="0%" style="stop-color:#6EE7B7;stop-opacity:1" />
             <stop offset="100%" style="stop-color:#34D399;stop-opacity:1" />
            </lineargradient>
            <filter id="greenGlow">
             <fegaussianblur stddeviation="4" result="coloredBlur" />
             <femerge>
              <femergenode in="coloredBlur" />
              <femergenode in="SourceGraphic" />
             </femerge>
            </filter>
           </defs> <ellipse cx="100" cy="160" rx="60" ry="15" fill="rgba(16, 185, 129, 0.2)" /> <circle cx="100" cy="90" r="70" fill="url(#greenGrad1)" filter="url(#greenGlow)" /> <ellipse cx="100" cy="70" rx="50" ry="25" fill="url(#greenGrad2)" opacity="0.6" /> <circle cx="75" cy="65" r="8" fill="rgba(255, 255, 255, 0.9)" /> <circle cx="78" cy="68" r="3" fill="rgba(255, 255, 255, 0.6)" /> <path d="M 70 95 L 85 110 L 115 75" stroke="#FFFFFF" stroke-width="8" fill="none" stroke-linecap="round" stroke-linejoin="round" opacity="0.9" />
          </svg>
         </div>
         <div class="status-label">
          Not Fatigued
         </div>
         <div class="status-count" id="normal-count">
          0
         </div>
        </div>
       </div>
       <div class="status-card status-moderate" data-status="moderate" onclick="filterPlayersByStatus('Moderate', event)">
        <div class="status-card-inner">
         <div class="status-3d-icon">
          <svg viewbox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"><defs>
            <lineargradient id="yellowGrad1" x1="0%" y1="0%" x2="0%" y2="100%">
             <stop offset="0%" style="stop-color:#FBBF24;stop-opacity:1" />
             <stop offset="100%" style="stop-color:#F59E0B;stop-opacity:1" />
            </lineargradient>
            <lineargradient id="yellowGrad2" x1="0%" y1="0%" x2="0%" y2="100%">
             <stop offset="0%" style="stop-color:#FCD34D;stop-opacity:1" />
             <stop offset="100%" style="stop-color:#FBBF24;stop-opacity:1" />
            </lineargradient>
            <filter id="yellowGlow">
             <fegaussianblur stddeviation="4" result="coloredBlur" />
             <femerge>
              <femergenode in="coloredBlur" />
              <femergenode in="SourceGraphic" />
             </femerge>
            </filter>
           </defs> <ellipse cx="100" cy="160" rx="60" ry="15" fill="rgba(245, 158, 11, 0.2)" /> <circle cx="100" cy="90" r="70" fill="url(#yellowGrad1)" filter="url(#yellowGlow)" /> <ellipse cx="100" cy="70" rx="50" ry="25" fill="url(#yellowGrad2)" opacity="0.6" /> <circle cx="75" cy="65" r="8" fill="rgba(255, 255, 255, 0.9)" /> <circle cx="78" cy="68" r="3" fill="rgba(255, 255, 255, 0.6)" /> <rect x="92" y="95" width="16" height="8" rx="4" fill="#FFFFFF" opacity="0.9" />
          </svg>
         </div>
         <div class="status-label">
          Moderate
         </div>
         <div class="status-count" id="elevated-count">
          0
         </div>
        </div>
       </div>
       <div class="status-card status-fatigued" data-status="fatigued" onclick="filterPlayersByStatus('Fatigued', event)">
        <div class="status-card-inner">
         <div class="status-3d-icon">
          <svg viewbox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"><defs>
            <lineargradient id="redGrad1" x1="0%" y1="0%" x2="0%" y2="100%">
             <stop offset="0%" style="stop-color:#F87171;stop-opacity:1" />
             <stop offset="100%" style="stop-color:#EF4444;stop-opacity:1" />
            </lineargradient>
            <lineargradient id="redGrad2" x1="0%" y1="0%" x2="0%" y2="100%">
             <stop offset="0%" style="stop-color:#FCA5A5;stop-opacity:1" />
             <stop offset="100%" style="stop-color:#F87171;stop-opacity:1" />
            </lineargradient>
            <filter id="redGlow">
             <fegaussianblur stddeviation="4" result="coloredBlur" />
             <femerge>
              <femergenode in="coloredBlur" />
              <femergenode in="SourceGraphic" />
             </femerge>
            </filter>
           </defs> <ellipse cx="100" cy="160" rx="60" ry="15" fill="rgba(239, 68, 68, 0.2)" /> <circle cx="100" cy="90" r="70" fill="url(#redGrad1)" filter="url(#redGlow)" /> <ellipse cx="100" cy="70" rx="50" ry="25" fill="url(#redGrad2)" opacity="0.6" /> <circle cx="75" cy="65" r="8" fill="rgba(255, 255, 255, 0.9)" /> <circle cx="78" cy="68" r="3" fill="rgba(255, 255, 255, 0.6)" /> <path d="M 75 85 L 105 115 M 105 85 L 75 115" stroke="#FFFFFF" stroke-width="8" stroke-linecap="round" opacity="0.9" />
          </svg>
         </div>
         <div class="status-label">
          Fatigued
         </div>
         <div class="status-count" id="fatigued-count">
          0
         </div>
        </div>
       </div>
      </div>
     </div><!-- Performance Trends -->
     <div class="dashboard-section">
      <h2 class="section-title">Performance Trends</h2>
      <p class="section-description">Historical metrics across training sessions</p>
      <div class="trend-container">
       <div class="trend-controls"><button class="trend-tab active" data-metric="heart_rate">Heart Rate</button> <button class="trend-tab" data-metric="temperature">Temperature</button> <button class="trend-tab" data-metric="oxygen">Blood Oxygen</button>
       </div>
       <div class="trend-chart">
        <div id="trend-display" class="trend-display">
         <div class="chart-placeholder">
          <div class="chart-icon">
           üìà
          </div>
          <p>Performance trends will appear here once training data is available</p>
         </div>
        </div>
       </div>
      </div>
     </div><!-- Action Buttons -->
     <div class="dashboard-actions"><button class="session-button action-large" onclick="startMonitoringSession()">
       <div class="button-icon-3d">
        <svg width="60" height="60" viewbox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><defs>
          <lineargradient id="playGrad1" x1="0%" y1="0%" x2="0%" y2="100%">
           <stop offset="0%" style="stop-color:#404040;stop-opacity:1" />
           <stop offset="100%" style="stop-color:#1a1a1a;stop-opacity:1" />
          </lineargradient>
          <lineargradient id="playGrad2" x1="0%" y1="0%" x2="0%" y2="100%">
           <stop offset="0%" style="stop-color:#606060;stop-opacity:1" />
           <stop offset="100%" style="stop-color:#404040;stop-opacity:1" />
          </lineargradient>
          <filter id="playGlow">
           <fegaussianblur stddeviation="3" result="coloredBlur" />
           <femerge>
            <femergenode in="coloredBlur" />
            <femergenode in="SourceGraphic" />
           </femerge>
          </filter>
         </defs> <ellipse cx="50" cy="75" rx="30" ry="8" fill="rgba(0, 0, 0, 0.3)" /> <circle cx="50" cy="50" r="35" fill="url(#playGrad1)" filter="url(#playGlow)" /> <ellipse cx="50" cy="35" rx="25" ry="15" fill="url(#playGrad2)" opacity="0.6" /> <circle cx="35" cy="32" r="4" fill="rgba(255, 255, 255, 0.4)" /> <path d="M 42 35 L 42 65 L 68 50 Z" fill="#FFFFFF" opacity="0.95" />
        </svg>
       </div> Start Session <span class="button-subtitle">Begin live monitoring</span> </button> <button class="secondary-button action-large" onclick="openTeamAnalysis()"> <span class="button-icon">üìä</span> Team Analysis <span class="button-subtitle">View detailed insights</span> </button>
     </div>
    </div>
   </main><!-- Players List Page -->
  <main id="athletes" class="page">
    <div class="page-content">
    <div class="athlete-list-header">
      <div>
       <h1 class="page-title">Athletes</h1>
       <p class="page-subtitle">Real-time fatigue monitoring</p>
      </div>
      <div style="display: flex; gap: 12px; align-items: center;">
       <div id="filter-indicator-container"></div><button class="add-athlete-button" onclick="openAddAthleteModal()">+ Add Athlete</button>
      </div>
     </div>
    <div id="athlete-list-container">
     <div class="loading-indicator">
      Loading athletes...
     </div>
    </div>
    </div>
   </main><!-- Player Profile Page -->
  <main id="athlete-profile" class="page">
    <div class="page-content">
    <div class="athlete-list-header" style="margin-bottom: 16px;">
     <div>
      <h1 class="page-title" id="profile-athlete-name">Athlete Profile</h1>
      <p class="page-subtitle" id="profile-athlete-status">Loading...</p>
     </div><button class="secondary-button" onclick="navigateToPage('athletes')">‚Üê Back to Athletes</button>
     </div><!-- JARVIS Orbital Interface -->
     <div class="jarvis-container">
      <div class="orbital-system"><!-- Particle Container -->
       <div class="particle-container" id="particle-container"></div><!-- Warning Orbit Container -->
       <div class="warning-orbit" id="warning-orbit"></div><!-- Central Reactor (JARVIS Energy Core) -->
       <div class="central-reactor" id="central-reactor">
        <div class="reactor-aura" id="reactor-aura"></div>
        <svg class="reactor-svg" viewbox="0 0 300 300" xmlns="http://www.w3.org/2000/svg" id="reactor-core"><defs>
          <filter id="coreGlow">
           <fegaussianblur stddeviation="8" result="blur" />
           <femerge>
            <femergenode in="blur" />
            <femergenode in="blur" />
            <femergenode in="SourceGraphic" />
           </femerge>
          </filter>
          <radialgradient id="coreGrad" cx="50%" cy="50%">
           <stop offset="0%" style="stop-color:currentColor;stop-opacity:0.8" />
           <stop offset="50%" style="stop-color:currentColor;stop-opacity:0.4" />
           <stop offset="100%" style="stop-color:currentColor;stop-opacity:0.1" />
          </radialgradient>
         </defs> <!-- Outer ring - background --> <circle cx="150" cy="150" r="110" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="6" opacity="0.3" /> <!-- Outer ring - animated energy fill --> <circle cx="150" cy="150" r="110" fill="none" stroke="currentColor" stroke-width="6" stroke-linecap="round" filter="url(#coreGlow)" opacity="0.8" stroke-dasharray="691" stroke-dashoffset="691" transform="rotate(-90 150 150)" id="energy-ring">
          <animatetransform attributename="transform" type="rotate" from="-90 150 150" to="270 150 150" dur="4s" repeatcount="indefinite" />
         </circle>
         <style>
                  #energy-ring {
                    transition: stroke-dasharray 0.8s cubic-bezier(0.4, 0, 0.2, 1);
                  }
                </style><!-- Inner glass sphere --> <circle cx="150" cy="150" r="70" fill="url(#coreGrad)" filter="url(#coreGlow)" /> <circle cx="150" cy="150" r="70" fill="none" stroke="currentColor" stroke-width="2" opacity="0.5" /> <circle cx="150" cy="150" r="60" fill="none" stroke="currentColor" stroke-width="1" opacity="0.3" /> <!-- Core center --> <circle cx="150" cy="150" r="20" fill="currentColor" opacity="0.9" filter="url(#coreGlow)" /> <circle cx="150" cy="150" r="15" fill="#FFFFFF" opacity="0.3" /> <!-- Energy percentage in center --> <text x="150" y="158" text-anchor="middle" font-family="Orbitron" font-size="36" font-weight="900" fill="#FFFFFF" id="energy-label">
          98%
         </text> <!-- Energy text at bottom --> <text x="150" y="248" text-anchor="middle" font-family="Orbitron" font-size="10" font-weight="700" fill="rgba(255,255,255,0.5)" letter-spacing="2">
          ENERGY
         </text>
        </svg>
       </div><!-- Top Orbital (Heart Rate - Magenta) -->
       <div class="orbital-data-ring orbital-top" onclick="toggleComparison('heart-rate', event)" style="cursor: pointer;">
        <svg class="orbital-svg" viewbox="0 0 180 180" xmlns="http://www.w3.org/2000/svg"><defs>
          <filter id="hrGlow">
           <fegaussianblur stddeviation="4" result="blur" />
           <femerge>
            <femergenode in="blur" />
            <femergenode in="SourceGraphic" />
           </femerge>
          </filter>
         </defs> <g opacity="0.2">
          <circle cx="90" cy="90" r="70" fill="none" stroke="currentColor" stroke-width="12" />
         </g> <circle cx="90" cy="90" r="70" fill="none" stroke="currentColor" stroke-width="12" stroke-dasharray="440" stroke-dashoffset="110" stroke-linecap="round" filter="url(#hrGlow)" transform="rotate(-90 90 90)" id="hr-ring" style="transition: stroke-dashoffset 0.8s cubic-bezier(0.4, 0, 0.2, 1);" /> <text x="90" y="95" text-anchor="middle" font-family="Orbitron" font-size="32" font-weight="900" fill="#FFFFFF" id="profile-heart-rate" style="pointer-events: none;">
          --
         </text> <text x="90" y="112" text-anchor="middle" font-family="Orbitron" font-size="10" font-weight="600" fill="rgba(255,255,255,0.6)" letter-spacing="2" style="pointer-events: none;">
          BPM
         </text>
        </svg>
       </div><!-- Right Orbital (Temperature - Amber) -->
       <div class="orbital-data-ring orbital-right" onclick="toggleComparison('temperature', event)" style="cursor: pointer;">
        <svg class="orbital-svg" viewbox="0 0 180 180" xmlns="http://www.w3.org/2000/svg"><defs>
          <filter id="tempGlow">
           <fegaussianblur stddeviation="4" result="blur" />
           <femerge>
            <femergenode in="blur" />
            <femergenode in="SourceGraphic" />
           </femerge>
          </filter>
         </defs> <g opacity="0.2">
          <circle cx="90" cy="90" r="70" fill="none" stroke="currentColor" stroke-width="12" />
         </g> <circle cx="90" cy="90" r="70" fill="none" stroke="currentColor" stroke-width="12" stroke-dasharray="440" stroke-dashoffset="110" stroke-linecap="round" filter="url(#tempGlow)" transform="rotate(-90 90 90)" id="temp-ring" style="transition: stroke-dashoffset 0.8s cubic-bezier(0.4, 0, 0.2, 1);" /> <text x="90" y="95" text-anchor="middle" font-family="Orbitron" font-size="32" font-weight="900" fill="#FFFFFF" id="profile-temperature" style="pointer-events: none;">
          --
         </text> <text x="90" y="112" text-anchor="middle" font-family="Orbitron" font-size="10" font-weight="600" fill="rgba(255,255,255,0.6)" letter-spacing="2" style="pointer-events: none;">
          ¬∞C
         </text>
        </svg>
       </div><!-- Left Orbital (Blood Oxygen - Cyan) -->
       <div class="orbital-data-ring orbital-left" style="cursor: pointer;">
        <svg class="orbital-svg" viewbox="0 0 180 180" xmlns="http://www.w3.org/2000/svg"><defs>
          <filter id="o2Glow">
           <fegaussianblur stddeviation="4" result="blur" />
           <femerge>
            <femergenode in="blur" />
            <femergenode in="SourceGraphic" />
           </femerge>
          </filter>
         </defs> <g opacity="0.2">
          <circle cx="90" cy="90" r="70" fill="none" stroke="currentColor" stroke-width="12" />
         </g> <circle cx="90" cy="90" r="70" fill="none" stroke="currentColor" stroke-width="12" stroke-dasharray="440" stroke-dashoffset="110" stroke-linecap="round" filter="url(#o2Glow)" transform="rotate(-90 90 90)" id="o2-ring" style="transition: stroke-dashoffset 0.8s cubic-bezier(0.4, 0, 0.2, 1);" /> <text x="90" y="95" text-anchor="middle" font-family="Orbitron" font-size="32" font-weight="900" fill="#FFFFFF" id="profile-oxygen" style="pointer-events: none;">
          --
         </text> <text x="90" y="112" text-anchor="middle" font-family="Orbitron" font-size="10" font-weight="600" fill="rgba(255,255,255,0.6)" letter-spacing="2" style="pointer-events: none;">
          SpO‚ÇÇ
         </text>
        </svg>
       </div>
      </div>
     </div><!-- Sparkline containers for each orbital -->
     <div id="sparkline-heart-rate" class="sparkline-container" style="color: #A855F7; top: 18%; left: 50%; transform: translateX(-50%);">
      <div class="sparkline-title">
       Heart Rate Trend
      </div>
      <canvas class="sparkline-canvas" id="sparkline-hr-canvas"></canvas>
     </div>
     <div id="sparkline-temperature" class="sparkline-container" style="color: #EC4899; top: 50%; right: 5%; transform: translateY(-50%);">
      <div class="sparkline-title">
       Temperature Trend
      </div>
      <canvas class="sparkline-canvas" id="sparkline-temp-canvas"></canvas>
     </div>
     <div id="sparkline-oxygen" class="sparkline-container" style="color: #3B82F6; top: 50%; left: 5%; transform: translateY(-50%);">
      <div class="sparkline-title">
       Oxygen Trend
      </div>
      <canvas class="sparkline-canvas" id="sparkline-o2-canvas"></canvas>
     </div><!-- Comparison Panels -->
     <div id="comparison-panel-heart-rate" class="comparison-panel" style="color: #A855F7; top: 15%; left: 50%; transform: translateX(-50%);">
      <div class="comparison-header">
       <div class="comparison-title">
        Heart Rate
       </div><button class="comparison-close" onclick="closeComparison('heart-rate')">√ó</button>
      </div>
      <div class="comparison-stat">
       <div class="comparison-stat-label">
        Baseline vs Current
       </div>
       <div class="comparison-values">
        <div class="comparison-value">
         <div class="comparison-value-label">
          BASELINE
         </div>
         <div class="comparison-value-number" id="baseline-heart-rate">
          --
         </div>
        </div>
        <div class="comparison-value">
         <div class="comparison-value-label">
          CURRENT
         </div>
         <div class="comparison-value-number" id="current-heart-rate">
          --
         </div>
        </div>
       </div>
      </div>
      <div class="comparison-change neutral" id="heart-rate-change"><span class="comparison-arrow">‚Üí</span> <span>No change</span>
      </div>
     </div>
     <div id="comparison-panel-temperature" class="comparison-panel" style="color: #EC4899; top: 50%; right: 8%; transform: translateY(-50%);">
      <div class="comparison-header">
       <div class="comparison-title">
        Temperature
       </div><button class="comparison-close" onclick="closeComparison('temperature')">√ó</button>
      </div>
      <div class="comparison-stat">
       <div class="comparison-stat-label">
        Baseline vs Current
       </div>
       <div class="comparison-values">
        <div class="comparison-value">
         <div class="comparison-value-label">
          BASELINE
         </div>
         <div class="comparison-value-number" id="baseline-temperature">
          --
         </div>
        </div>
        <div class="comparison-value">
         <div class="comparison-value-label">
          CURRENT
         </div>
         <div class="comparison-value-number" id="current-temperature">
          --
         </div>
        </div>
       </div>
      </div>
      <div class="comparison-change neutral" id="temperature-change"><span class="comparison-arrow">‚Üí</span> <span>No change</span>
      </div>
     </div>
     <div id="comparison-panel-oxygen" class="comparison-panel" style="color: #3B82F6; top: 50%; left: 8%; transform: translateY(-50%);">
      <div class="comparison-header">
       <div class="comparison-title">
        Blood Oxygen
       </div><button class="comparison-close" onclick="closeComparison('oxygen')">√ó</button>
      </div>
      <div class="comparison-stat">
       <div class="comparison-stat-label">
        Baseline vs Current
       </div>
       <div class="comparison-values">
        <div class="comparison-value">
         <div class="comparison-value-label">
          BASELINE
         </div>
         <div class="comparison-value-number" id="baseline-oxygen">
          --
         </div>
        </div>
        <div class="comparison-value">
         <div class="comparison-value-label">
          CURRENT
         </div>
         <div class="comparison-value-number" id="current-oxygen">
          --
         </div>
        </div>
       </div>
      </div>
      <div class="comparison-change neutral" id="oxygen-change"><span class="comparison-arrow">‚Üí</span> <span>No change</span>
      </div>
     </div>
    </div>
   </main>
  </div><!-- Add/Edit Player Modal -->
  <div class="modal-overlay" id="athlete-modal">
   <div class="modal">
    <div class="modal-header">
     <h2 class="modal-title" id="modal-title">Add Athlete</h2><button class="close-button" onclick="closeAthleteModal()">√ó</button>
    </div>
    <form id="athlete-form" onsubmit="handleAthleteSubmit(event)">
     <div class="form-group"><label class="form-label" for="athlete-name">Athlete Name</label> <input type="text" id="athlete-name" class="form-input" required placeholder="Enter athlete name">
     </div>
     <div class="form-group"><label class="form-label" for="heart-rate">Heart Rate: <span id="heart-rate-value">120</span> bpm</label> <input type="range" id="heart-rate" class="form-slider" required min="60" max="180" value="120" step="1">
      <div class="slider-labels"><span>60</span> <span>180</span>
      </div>
     </div>
     <div class="form-group"><label class="form-label" for="body-temp">Body Temperature: <span id="body-temp-value">37.0</span> ¬∞C</label> <input type="range" id="body-temp" class="form-slider" required min="35.0" max="39.0" value="37.0" step="0.1">
      <div class="slider-labels"><span>35.0</span> <span>39.0</span>
      </div>
     </div>
     <div class="form-group"><label class="form-label" for="blood-oxygen">Blood Oxygen: <span id="blood-oxygen-value">95</span> %</label> <input type="range" id="blood-oxygen" class="form-slider" required min="90" max="100" value="95" step="1">
      <div class="slider-labels"><span>90</span> <span>100</span>
      </div>
     </div>
     <div class="form-group"><label class="form-label" for="notes">Notes (Optional)</label> <input type="text" id="notes" class="form-input" placeholder="Any observations or comments">
     </div>
     <div class="form-buttons"><button type="button" class="secondary-button" onclick="closeAthleteModal()">Cancel</button> <button type="submit" class="primary-button" id="submit-button">Add Athlete</button>
     </div>
    </form>
   </div>
  </div><!-- Team Stats Overlay -->
  <div class="team-stats-overlay" id="team-stats-overlay">
   <div class="team-stats-content">
    <div class="team-stats-header">
     <h2 class="team-stats-title">TEAM ANALYTICS</h2><button class="close-button" onclick="closeTeamStats()">√ó</button>
    </div>
    <div class="team-stats-grid" id="team-stats-grid"><!-- Stats will be populated dynamically -->
    </div>
   </div>
  </div>
  <script>
    let athletesData = [];
    let currentFilter = null;

    // Haptic Feedback Functions
    function triggerHapticPulse(element) {
      if (!element) return;
      
      element.classList.remove('haptic-active');
      void element.offsetWidth; // Trigger reflow
      element.classList.add('haptic-active');
      
      setTimeout(() => {
        element.classList.remove('haptic-active');
      }, 400);
    }

    function triggerHapticRipple(element, event) {
      if (!element) return;
      
      // Create ripple container if it doesn't exist
      let rippleContainer = element.querySelector('.haptic-ripple-container');
      if (!rippleContainer) {
        rippleContainer = document.createElement('div');
        rippleContainer.className = 'haptic-ripple-container';
        element.style.position = 'relative';
        element.appendChild(rippleContainer);
      }
      
      // Create ripple element
      const ripple = document.createElement('div');
      ripple.className = 'haptic-ripple';
      
      // Get click position relative to element
      const rect = element.getBoundingClientRect();
      const x = event.clientX - rect.left;
      const y = event.clientY - rect.top;
      
      // Size and position ripple
      const size = Math.max(rect.width, rect.height) * 2;
      ripple.style.width = `${size}px`;
      ripple.style.height = `${size}px`;
      ripple.style.left = `${x - size / 2}px`;
      ripple.style.top = `${y - size / 2}px`;
      
      // Set color based on element's current color
      const computedStyle = window.getComputedStyle(element);
      ripple.style.color = computedStyle.color || '#FFFFFF';
      
      rippleContainer.appendChild(ripple);
      
      // Remove ripple after animation
      setTimeout(() => {
        ripple.remove();
      }, 600);
    }

    function triggerHapticGlow(element) {
      if (!element) return;
      
      element.classList.remove('haptic-glow');
      void element.offsetWidth; // Trigger reflow
      element.classList.add('haptic-glow');
      
      setTimeout(() => {
        element.classList.remove('haptic-glow');
      }, 500);
    }

    // Data SDK Handler
    // Fetch players from backend
    async function fetchAthletes() {
      try {
        const response = await fetch('/api/athletes');
        if (!response.ok) throw new Error('Failed to fetch athletes');
        const data = await response.json();
        athletesData = data;
        renderAthleteList(athletesData);
        updateDashboardStats(athletesData);
      } catch (error) {
        console.error('Error fetching athletes:', error);
        athletesData = [];
        renderAthleteList(athletesData);
        updateDashboardStats(athletesData);
      }
    }

    // Initialize Data SDK
    async function initializeApp() {
      await fetchAthletes();
    }

    initializeApp();

    // Navigation
    function navigateToPage(pageName) {
      // Only onboarding (features) page redirects to mlpage.html now
      document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
      document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active'));
      
      const pageElement = document.getElementById(pageName);
      if (pageElement) pageElement.classList.add('active');
      
      const navLink = document.querySelector(`[data-page="${pageName}"]`);
      if (navLink) navLink.classList.add('active');
    }

    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', () => {
        const pageName = link.getAttribute('data-page');
        if (pageName === 'onboarding') {
          window.location.href = '/mlpage';
          return;
        }
        navigateToPage(pageName);
      });
    });

    // Slider value updates
    document.addEventListener('DOMContentLoaded', () => {
      const heartRateSlider = document.getElementById('heart-rate');
      const heartRateValue = document.getElementById('heart-rate-value');
      const bodyTempSlider = document.getElementById('body-temp');
      const bodyTempValue = document.getElementById('body-temp-value');
      const bloodOxygenSlider = document.getElementById('blood-oxygen');
      const bloodOxygenValue = document.getElementById('blood-oxygen-value');

      if (heartRateSlider && heartRateValue) {
        heartRateSlider.addEventListener('input', (e) => {
          heartRateValue.textContent = e.target.value;
        });
      }

      if (bodyTempSlider && bodyTempValue) {
        bodyTempSlider.addEventListener('input', (e) => {
          bodyTempValue.textContent = parseFloat(e.target.value).toFixed(1);
        });
      }

      if (bloodOxygenSlider && bloodOxygenValue) {
        bloodOxygenSlider.addEventListener('input', (e) => {
          bloodOxygenValue.textContent = e.target.value;
        });
      }

      // Trend tabs
      document.querySelectorAll('.trend-tab').forEach(tab => {
        tab.addEventListener('click', () => {
          document.querySelectorAll('.trend-tab').forEach(t => t.classList.remove('active'));
          tab.classList.add('active');
        });
      });
    });

    // Classification functions
    function calculateFatigueStatus(heartRate, bodyTemp, bloodOxygen) {
      let hrClass = 0;
      let tempClass = 0;
      let o2Class = 0;

      if (heartRate <= 100) hrClass = 0;
      else if (heartRate >= 101 && heartRate <= 140) hrClass = 1;
      else if (heartRate > 140) hrClass = 2;

      if (bodyTemp <= 37.2) tempClass = 0;
      else if (bodyTemp >= 37.3 && bodyTemp <= 37.5) tempClass = 1;
      else if (bodyTemp >= 37.6) tempClass = 2;

      if (bloodOxygen >= 98) o2Class = 0;
      else if (bloodOxygen >= 96 && bloodOxygen <= 97) o2Class = 1;
      else if (bloodOxygen <= 95) o2Class = 2;

      const avgClass = (hrClass + tempClass + o2Class) / 3;

      if (avgClass < 0.67) return 'Normal';
      if (avgClass < 1.5) return 'Moderate';
      return 'Fatigued';
    }

    function calculateFatiguePercentage(heartRate, bodyTemp, bloodOxygen) {
      let score = 0;
      let maxScore = 6;
      
      if (heartRate > 160) score += 2;
      else if (heartRate > 120) score += 1;
      
      if (bodyTemp >= 37.6) score += 2;
      else if (bodyTemp >= 37.3) score += 1;
      
      if (bloodOxygen <= 95) score += 2;
      else if (bloodOxygen <= 97) score += 1;
      
      return Math.round((score / maxScore) * 100);
    }

    function calculateEnergyPercentage(fatiguePercent) {
      return Math.max(0, 100 - fatiguePercent);
    }

    function getPlayerInitials(name) {
      if (!name) return '??';
      const parts = name.trim().split(' ');
      if (parts.length >= 2) {
        return (parts[0][0] + parts[1][0]).toUpperCase();
      }
      return name.substring(0, 2).toUpperCase();
    }

    // Filter players by status
    function filterAthletesByStatus(status, event) {
      if (event) {
        const card = event.currentTarget || event.target.closest('.status-card');
        if (card) {
          triggerHapticRipple(card, event);
          triggerHapticGlow(card.querySelector('.status-3d-icon'));
        }
      }
      
      if (currentFilter === status) {
        currentFilter = null;
      } else {
        currentFilter = status;
      }
      renderAthleteList(athletesData);
      navigateToPage('athletes');
    }

    function clearFilter() {
      currentFilter = null;
      renderAthleteList(athletesData);
    }

    // Modal functions
    function openAddAthleteModal() {
      document.getElementById('modal-title').textContent = 'Add Athlete';
      document.getElementById('submit-button').textContent = 'Add Athlete';
      document.getElementById('athlete-form').reset();
      document.getElementById('heart-rate-value').textContent = '120';
      document.getElementById('body-temp-value').textContent = '37.0';
      document.getElementById('blood-oxygen-value').textContent = '95';
      document.getElementById('athlete-modal').classList.add('active');
    }

    function closeAthleteModal() {
      document.getElementById('athlete-modal').classList.remove('active');
      document.getElementById('athlete-form').reset();
    }

    async function handleAthleteSubmit(event) {
      event.preventDefault();

      if (athletesData.length >= 999) {
        const errorDiv = document.createElement('div');
        errorDiv.style.cssText = 'color:#EF4444;margin-top:12px;font-size:13px;';
        errorDiv.textContent = 'Maximum limit of 999 athletes reached. Please delete some athletes first.';
        event.target.appendChild(errorDiv);
        setTimeout(() => errorDiv.remove(), 3000);
        return;
      }

      const submitButton = document.getElementById('submit-button');
      const originalText = submitButton.textContent;
      submitButton.textContent = 'Saving...';
      submitButton.disabled = true;

      const athleteName = document.getElementById('athlete-name').value;
      const heartRate = parseFloat(document.getElementById('heart-rate').value);
      const bodyTemp = parseFloat(document.getElementById('body-temp').value);
      const bloodOxygen = parseFloat(document.getElementById('blood-oxygen').value);
      const notes = document.getElementById('notes').value;

      const fatigueStatus = calculateFatigueStatus(heartRate, bodyTemp, bloodOxygen);

      const athleteData = {
        athlete_name: athleteName,
        heart_rate: heartRate,
        body_temperature: bodyTemp,
        blood_oxygen: bloodOxygen,
        fatigue_status: fatigueStatus,
        notes: notes || ''
      };

      try {
        const response = await fetch('/api/athletes', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(athleteData)
        });
        if (!response.ok) throw new Error('Failed to add athlete');
        await fetchAthletes();
        closeAthleteModal();
      } catch (error) {
        submitButton.disabled = false;
        submitButton.textContent = originalText;
        console.error('Error creating athlete:', error);
        const errorDiv = document.createElement('div');
        errorDiv.style.cssText = 'color:#EF4444;margin-top:12px;font-size:13px;';
        errorDiv.textContent = 'An error occurred. Please try again.';
        event.target.appendChild(errorDiv);
        setTimeout(() => errorDiv.remove(), 3000);
        return;
      }

      submitButton.disabled = false;
      submitButton.textContent = originalText;
    }

    // Render functions
    function renderAthleteList(data) {
      const container = document.getElementById('athlete-list-container');
      const filterContainer = document.getElementById('filter-indicator-container');

      if (!container || !filterContainer) return;

      let filteredData = data || [];
      if (currentFilter) {
        filteredData = filteredData.filter(a => a.fatigue_status === currentFilter);
      }

      if (currentFilter) {
        const badgeClass = currentFilter === 'Normal' ? 'optimal' : 
                          currentFilter === 'Moderate' ? 'moderate' : 'fatigued';
        filterContainer.innerHTML = `
          <div class="filter-indicator">
            <span>Showing:</span>
            <span class="filter-badge ${badgeClass}">${currentFilter}</span>
            <button class="clear-filter-btn" onclick="clearFilter()">√ó</button>
          </div>
        `;
      } else {
        filterContainer.innerHTML = '';
      }
      
      if (filteredData.length === 0) {
        const emptyMessage = currentFilter ? 
          `<h3>No ${currentFilter} Athletes</h3><p>No athletes found with ${currentFilter} status</p>` :
          `<h3>No Athletes Yet</h3><p>Add your first athlete to start monitoring vitals</p>`;
        container.innerHTML = `
          <div class="empty-state">
            <div class="empty-state-icon">üë•</div>
            ${emptyMessage}
          </div>
        `;
        return;
      }
      
      const athleteCards = filteredData.map(athlete => {
        // Show basic info from DB: id, name, position, height, weight, age, created_at
        return `
          <div class="athlete-card" data-athlete-id="${athlete.id}">
            <div class="athlete-header">
              <div class="athlete-info-section">
                <div class="athlete-info">
                  <div class="athlete-name">${athlete.name}</div>
                  <div class="athlete-role">${athlete.position || 'N/A'}</div>
                </div>
              </div>
            </div>
            <div class="athlete-details">
              <div class="athlete-row"><span class="athlete-label">ID:</span> <span class="athlete-value">${athlete.id}</span></div>
              <div class="athlete-row"><span class="athlete-label">Position:</span> <span class="athlete-value">${athlete.position || 'N/A'}</span></div>
              <div class="athlete-row"><span class="athlete-label">Height:</span> <span class="athlete-value">${athlete.height_cm !== undefined && athlete.height_cm !== null ? athlete.height_cm + ' cm' : 'N/A'}</span></div>
              <div class="athlete-row"><span class="athlete-label">Weight:</span> <span class="athlete-value">${athlete.weight_kg !== undefined && athlete.weight_kg !== null ? athlete.weight_kg + ' kg' : 'N/A'}</span></div>
              <div class="athlete-row"><span class="athlete-label">Age:</span> <span class="athlete-value">${athlete.age !== undefined && athlete.age !== null ? athlete.age : 'N/A'}</span></div>
              <div class="athlete-row"><span class="athlete-label">Created At:</span> <span class="athlete-value">${athlete.created_at || 'N/A'}</span></div>
            </div>
          </div>
        `;
      }).join('');
      
      container.innerHTML = `<div class="athlete-grid">${athleteCards}</div>`;
      
      // Add click event listeners with haptic feedback
      document.querySelectorAll('.athlete-card').forEach(card => {
        card.addEventListener('click', function(event) {
          triggerHapticRipple(this, event);
          const sphereIcon = this.querySelector('.athlete-sphere svg');
          if (sphereIcon) {
            triggerHapticGlow(sphereIcon);
          }
          
          const athleteId = this.getAttribute('data-athlete-id');
          if (athleteId) {
            setTimeout(() => {
              openAthleteProfile(athleteId);
            }, 150);
          }
        });
      });
      
      // Add haptic to feature cards
      document.querySelectorAll('.feature-card').forEach(card => {
        card.addEventListener('click', function(event) {
          triggerHapticRipple(this, event);
          const icon = this.querySelector('.feature-icon');
          if (icon) {
            triggerHapticGlow(icon);
          }
        });
      });
      
      // Add haptic to vital cards
      document.querySelectorAll('.vital-card').forEach(card => {
        card.addEventListener('click', function(event) {
          triggerHapticRipple(this, event);
          const icon = this.querySelector('.vital-icon');
          if (icon) {
            triggerHapticGlow(icon);
          }
        });
      });
    }

    function updateDashboardStats(data) {
      const totalElement = document.getElementById('total-players');
      const normalElement = document.getElementById('normal-count');
      const elevatedElement = document.getElementById('elevated-count');
      const fatiguedElement = document.getElementById('fatigued-count');
      
      const safeData = data || [];
      
      if (totalElement) {
        totalElement.textContent = safeData.length;
      }
      
      const normalCount = safeData.filter(a => a.fatigue_status === 'Normal').length;
      const elevatedCount = safeData.filter(a => a.fatigue_status === 'Moderate').length;
      const fatiguedCount = safeData.filter(a => a.fatigue_status === 'Fatigued').length;
      
      if (normalElement) normalElement.textContent = normalCount;
      if (elevatedElement) elevatedElement.textContent = elevatedCount;
      if (fatiguedElement) fatiguedElement.textContent = fatiguedCount;
    }

    let currentAthlete = null;
    let baselineVitals = {
      heart_rate: 120,
      temperature: 36.8,
      oxygen: 98
    };
    let vitalHistory = {
      heart_rate: [],
      temperature: [],
      oxygen: []
    };
    let lastEnergyPercent = 0;

    // Gesture control variables
    let doubleTapTimer = null;
    let longPressTimer = null;
    let longPressTarget = null;

    // Particle System Functions
    function createParticle(startX, startY, targetX, targetY, color, isLarge = false) {
      const container = document.getElementById('particle-container');
      if (!container) return;

      const particle = document.createElement('div');
      particle.className = isLarge ? 'particle large' : 'particle';
      particle.style.left = startX + 'px';
      particle.style.top = startY + 'px';
      particle.style.color = color;
      
      const deltaX = targetX - startX;
      const deltaY = targetY - startY;
      
      particle.style.setProperty('--tx', deltaX + 'px');
      particle.style.setProperty('--ty', deltaY + 'px');
      
      container.appendChild(particle);
      
      particle.style.animation = 'particle-flow-in 2s cubic-bezier(0.4, 0, 0.2, 1) forwards';
      
      setTimeout(() => {
        particle.remove();
      }, 2000);
    }

    function startParticleFlow(status) {
      const container = document.getElementById('particle-container');
      if (!container) return;

      const orbitalPositions = [
        { x: 300, y: 100 },  // top
        { x: 500, y: 300 },  // right
        { x: 100, y: 300 }   // left
      ];

      const centerX = 300;
      const centerY = 300;

      let color, interval, largeParticleChance;
      if (status === 'Normal') {
        color = '#00FF88';
        interval = 200;  // More frequent for green status
        largeParticleChance = 0.6;  // 60% chance of large particles
      } else if (status === 'Moderate') {
        color = '#FFB800';
        interval = 500;
        largeParticleChance = 0.3;
      } else {
        color = '#FF3366';
        interval = 300;
        largeParticleChance = 0.2;
      }

      const particleInterval = setInterval(() => {
        if (document.getElementById('player-profile').classList.contains('active')) {
          const randomOrbital = orbitalPositions[Math.floor(Math.random() * orbitalPositions.length)];
          const isLarge = Math.random() < largeParticleChance;
          createParticle(randomOrbital.x, randomOrbital.y, centerX, centerY, color, isLarge);
          
          // For green status, create double particles sometimes
          if (status === 'Normal' && Math.random() < 0.4) {
            const randomOrbital2 = orbitalPositions[Math.floor(Math.random() * orbitalPositions.length)];
            setTimeout(() => {
              createParticle(randomOrbital2.x, randomOrbital2.y, centerX, centerY, color, isLarge);
            }, 100);
          }
        } else {
          clearInterval(particleInterval);
        }
      }, interval);
    }

    // Warning indicators
    function updateWarningIndicators(status) {
      const warningOrbit = document.getElementById('warning-orbit');
      if (!warningOrbit) return;

      warningOrbit.innerHTML = '';

      if (status === 'Fatigued') {
        const warnings = ['‚ö†     ', '‚ö†Ô∏è', '‚ö†Ô∏è'];
        warnings.forEach((icon, index) => {
          const warning = document.createElement('div');
          warning.className = `warning-icon warning-${index + 1}`;
          warning.textContent = icon;
          warning.style.color = '#FF3366';
          warningOrbit.appendChild(warning);
        });
      } else if (status === 'Moderate') {
        const warning = document.createElement('div');
        warning.className = 'warning-icon warning-1';
        warning.textContent = '‚ö°';
        warning.style.color = '#FFB800';
        warningOrbit.appendChild(warning);
      }
    }

    // Reactor aura intensity
    function updateReactorAura(status) {
      const aura = document.getElementById('reactor-aura');
      const reactor = document.getElementById('central-reactor');
      if (!aura || !reactor) return;

      aura.classList.remove('intense');
      reactor.classList.remove('reactor-fatigued');

      if (status === 'Fatigued') {
        aura.classList.add('intense');
        reactor.classList.add('reactor-fatigued');
      }
    }

    // Heat trail animation
    function createHeatTrail(x, y, color) {
      const trail = document.createElement('div');
      trail.className = 'heat-trail';
      trail.style.left = x + 'px';
      trail.style.top = y + 'px';
      trail.style.color = color;
      trail.style.animation = 'trail-fade 0.8s ease-out forwards';
      
      const container = document.querySelector('.orbital-system');
      if (container) {
        container.appendChild(trail);
        setTimeout(() => trail.remove(), 800);
      }
    }

    // Energy burst celebration
    function celebrateFullEnergy() {
      const reactor = document.getElementById('central-reactor');
      if (!reactor) return;

      // Create burst rings only
      for (let i = 0; i < 3; i++) {
        setTimeout(() => {
          const ring = document.createElement('div');
          ring.className = 'energy-burst-ring animate';
          ring.style.color = '#00FF88';
          reactor.appendChild(ring);
          setTimeout(() => ring.remove(), 1000);
        }, i * 200);
      }
    }

    // Sparkline chart functions
    function generateVitalHistory(currentValue, type) {
      const history = [];
      const points = 20;
      
      let baseValue, variance;
      if (type === 'heart_rate') {
        baseValue = currentValue;
        variance = 10;
      } else if (type === 'temperature') {
        baseValue = currentValue;
        variance = 0.3;
      } else {
        baseValue = currentValue;
        variance = 2;
      }

      for (let i = 0; i < points; i++) {
        const randomOffset = (Math.random() - 0.5) * variance;
        history.push(baseValue + randomOffset);
      }
      
      history[points - 1] = currentValue;
      return history;
    }

    function drawSparkline(canvasId, data, color, minVal, maxVal) {
      const canvas = document.getElementById(canvasId);
      if (!canvas) return;

      const ctx = canvas.getContext('2d');
      const width = canvas.width = canvas.offsetWidth * 2;
      const height = canvas.height = canvas.offsetHeight * 2;

      ctx.clearRect(0, 0, width, height);

      if (data.length < 2) return;

      const padding = 10;
      const chartWidth = width - padding * 2;
      const chartHeight = height - padding * 2;

      const xStep = chartWidth / (data.length - 1);
      const range = maxVal - minVal;

      // Draw gradient background
      const gradient = ctx.createLinearGradient(0, padding, 0, height - padding);
      gradient.addColorStop(0, color + '40');
      gradient.addColorStop(1, color + '00');
      
      ctx.beginPath();
      ctx.moveTo(padding, height - padding);
      
      data.forEach((value, index) => {
        const x = padding + index * xStep;
        const y = height - padding - ((value - minVal) / range) * chartHeight;
        
        if (index === 0) {
          ctx.lineTo(x, y);
        } else {
          ctx.lineTo(x, y);
        }
      });
      
      ctx.lineTo(width - padding, height - padding);
      ctx.closePath();
      ctx.fillStyle = gradient;
      ctx.fill();

      // Draw line
      ctx.beginPath();
      data.forEach((value, index) => {
        const x = padding + index * xStep;
        const y = height - padding - ((value - minVal) / range) * chartHeight;
        
        if (index === 0) {
          ctx.moveTo(x, y);
        } else {
          ctx.lineTo(x, y);
        }
      });
      
      ctx.strokeStyle = color;
      ctx.lineWidth = 4;
      ctx.lineCap = 'round';
      ctx.lineJoin = 'round';
      ctx.stroke();

      // Draw current value dot
      const lastX = padding + (data.length - 1) * xStep;
      const lastY = height - padding - ((data[data.length - 1] - minVal) / range) * chartHeight;
      
      ctx.beginPath();
      ctx.arc(lastX, lastY, 6, 0, Math.PI * 2);
      ctx.fillStyle = color;
      ctx.fill();
      ctx.strokeStyle = '#FFFFFF';
      ctx.lineWidth = 2;
      ctx.stroke();
    }

    let activeSparkline = null;
    let sparklineTimer = null;

    function showSparkline(type) {
      // Close any active sparkline
      if (activeSparkline) {
        document.getElementById(activeSparkline).classList.remove('active');
      }

      clearTimeout(sparklineTimer);

      const sparklineId = `sparkline-${type}`;
      const sparkline = document.getElementById(sparklineId);
      if (!sparkline) return;

      activeSparkline = sparklineId;
      sparkline.classList.add('active');

      // Generate and draw sparkline
      let canvasId, history, minVal, maxVal, color;
      
      if (type === 'heart-rate') {
        canvasId = 'sparkline-hr-canvas';
        history = vitalHistory.heart_rate.length ? vitalHistory.heart_rate : generateVitalHistory(currentPlayer.heart_rate, 'heart_rate');
        minVal = 60;
        maxVal = 180;
        color = '#A855F7';
      } else if (type === 'temperature') {
        canvasId = 'sparkline-temp-canvas';
        history = vitalHistory.temperature.length ? vitalHistory.temperature : generateVitalHistory(currentPlayer.body_temperature, 'temperature');
        minVal = 35;
        maxVal = 39;
        color = '#EC4899';
      } else if (type === 'oxygen') {
        canvasId = 'sparkline-o2-canvas';
        history = vitalHistory.oxygen.length ? vitalHistory.oxygen : generateVitalHistory(currentPlayer.blood_oxygen, 'oxygen');
        minVal = 90;
        maxVal = 100;
        color = '#3B82F6';
      }

      if (canvasId && history) {
        drawSparkline(canvasId, history, color, minVal, maxVal);
      }

      // Auto-hide after 5 seconds
      sparklineTimer = setTimeout(() => {
        sparkline.classList.remove('active');
        activeSparkline = null;
      }, 5000);
    }

    function hideSparkline(type) {
      const sparklineId = `sparkline-${type}`;
      const sparkline = document.getElementById(sparklineId);
      if (sparkline) {
        sparkline.classList.remove('active');
      }
      if (activeSparkline === sparklineId) {
        activeSparkline = null;
      }
      clearTimeout(sparklineTimer);
    }

    // Team stats overlay
    function openTeamStatsOverlay() {
      const overlay = document.getElementById('team-stats-overlay');
      const grid = document.getElementById('team-stats-grid');
      if (!overlay || !grid) return;

      // Calculate team statistics
      const totalPlayers = playersData.length;
      const normalCount = playersData.filter(p => p.fatigue_status === 'Normal').length;
      const moderateCount = playersData.filter(p => p.fatigue_status === 'Moderate').length;
      const fatiguedCount = playersData.filter(p => p.fatigue_status === 'Fatigued').length;

      const avgHeartRate = totalPlayers > 0 ? 
        Math.round(playersData.reduce((sum, p) => sum + p.heart_rate, 0) / totalPlayers) : 0;
      
      const avgTemp = totalPlayers > 0 ?
        (playersData.reduce((sum, p) => sum + p.body_temperature, 0) / totalPlayers).toFixed(1) : '0.0';
      
      const avgOxygen = totalPlayers > 0 ?
        Math.round(playersData.reduce((sum, p) => sum + p.blood_oxygen, 0) / totalPlayers) : 0;

      grid.innerHTML = `
        <div class="team-stat-card">
          <div class="team-stat-label">Total Players</div>
          <div class="team-stat-value">${totalPlayers}</div>
        </div>
        <div class="team-stat-card" style="border-color: rgba(16, 185, 129, 0.3);">
          <div class="team-stat-label" style="color: #10B981;">Not Fatigued</div>
          <div class="team-stat-value" style="color: #10B981;">${normalCount}</div>
          <div class="team-stat-sublabel">${totalPlayers > 0 ? Math.round((normalCount/totalPlayers)*100) : 0}% of team</div>
        </div>
        <div class="team-stat-card" style="border-color: rgba(245, 158, 11, 0.3);">
          <div class="team-stat-label" style="color: #F59E0B;">Moderate</div>
          <div class="team-stat-value" style="color: #F59E0B;">${moderateCount}</div>
          <div class="team-stat-sublabel">${totalPlayers > 0 ? Math.round((moderateCount/totalPlayers)*100) : 0}% of team</div>
        </div>
        <div class="team-stat-card" style="border-color: rgba(239, 68, 68, 0.3);">
          <div class="team-stat-label" style="color: #EF4444;">Fatigued</div>
          <div class="team-stat-value" style="color: #EF4444;">${fatiguedCount}</div>
          <div class="team-stat-sublabel">${totalPlayers > 0 ? Math.round((fatiguedCount/totalPlayers)*100) : 0}% of team</div>
        </div>
        <div class="team-stat-card">
          <div class="team-stat-label">Avg Heart Rate</div>
          <div class="team-stat-value">${avgHeartRate}</div>
          <div class="team-stat-sublabel">BPM</div>
        </div>
        <div class="team-stat-card">
          <div class="team-stat-label">Avg Temperature</div>
          <div class="team-stat-value">${avgTemp}</div>
          <div class="team-stat-sublabel">  C</div>
        </div>
        <div class="team-stat-card">
          <div class="team-stat-label">Avg Blood Oxygen</div>
          <div class="team-stat-value">${avgOxygen}</div>
          <div class="team-stat-sublabel">SpO‚ÇÇ %</div>
        </div>
      `;

      overlay.classList.add('active');
    }

    function closeTeamStats() {
      const overlay = document.getElementById('team-stats-overlay');
      if (overlay) {
        overlay.classList.remove('active');
      }
    }

    // Gesture Controls
    function setupGestureControls() {
      const reactor = document.getElementById('central-reactor');
      if (!reactor) return;

      let reactorClickCount = 0;
      let reactorClickTimer = null;

      reactor.addEventListener('click', function(event) {
        // Prevent event from bubbling to orbital rings
        event.stopPropagation();
        
        reactorClickCount++;

        if (reactorClickCount === 1) {
          // Wait to see if there's a second click
          reactorClickTimer = setTimeout(() => {
            // Single click - bounce animation
            this.style.animation = 'none';
            void this.offsetWidth; // Trigger reflow
            this.style.animation = 'bounce-smooth 0.6s cubic-bezier(0.34, 1.56, 0.64, 1)';
            reactorClickCount = 0;
          }, 300);
        } else if (reactorClickCount === 2) {
          // Double click - open team stats
          clearTimeout(reactorClickTimer);
          reactorClickCount = 0;
          openTeamStatsOverlay();
        }
      });

      // Single/Double click setup for orbital rings
      const orbitals = [
        { id: 'orbital-top', type: 'heart-rate' },
        { id: 'orbital-right', type: 'temperature' },
        { id: 'orbital-left', type: 'oxygen' }
      ];

      orbitals.forEach(orbital => {
        const element = document.querySelector(`.${orbital.id}`);
        if (!element) return;

        let clickCount = 0;
        let clickTimer = null;

        element.addEventListener('click', function(e) {
          // Prevent event from bubbling to reactor
          e.stopPropagation();
          
          clickCount++;

          if (clickCount === 1) {
            // Wait to see if there's a second click
            clickTimer = setTimeout(() => {
              // Single click - show baseline comparison
              const panel = document.getElementById(`comparison-panel-${orbital.type}`);
              if (panel) {
                if (panel.classList.contains('active')) {
                  panel.classList.remove('active');
                } else {
                  // Close other panels first
                  document.querySelectorAll('.comparison-panel').forEach(p => {
                    p.classList.remove('active');
                  });
                  panel.classList.add('active');
                  updateComparisonPanel(orbital.type);
                }
              }
              clickCount = 0;
            }, 300);
          } else if (clickCount === 2) {
            // Double click - show sparkline
            clearTimeout(clickTimer);
            clickCount = 0;
            
            // Close comparison panel if open
            const panel = document.getElementById(`comparison-panel-${orbital.type}`);
            if (panel) {
              panel.classList.remove('active');
            }
            
            // Show sparkline
            showSparkline(orbital.type);
          }
        });
      });
    }



    function closeComparison(type) {
      const panel = document.getElementById(`comparison-panel-${type}`);
      if (panel) {
        panel.classList.remove('active');
      }
    }

    function updateComparisonPanel(type) {
      if (!currentPlayer) return;

      let current, baseline, unit, changeElement;

      if (type === 'heart-rate') {
        current = currentPlayer.heart_rate;
        baseline = baselineVitals.heart_rate;
        unit = 'bpm';
        changeElement = document.getElementById('heart-rate-change');
        document.getElementById('baseline-heart-rate').textContent = baseline;
        document.getElementById('current-heart-rate').textContent = current;
      } else if (type === 'temperature') {
        current = currentPlayer.body_temperature;
        baseline = baselineVitals.temperature;
        unit = '¬∞C';
        changeElement = document.getElementById('temperature-change');
        document.getElementById('baseline-temperature').textContent = baseline.toFixed(1);
        document.getElementById('current-temperature').textContent = current.toFixed(1);
      } else if (type === 'oxygen') {
        current = currentPlayer.blood_oxygen;
        baseline = baselineVitals.oxygen;
        unit = '%';
        changeElement = document.getElementById('oxygen-change');
        document.getElementById('baseline-oxygen').textContent = baseline;
        document.getElementById('current-oxygen').textContent = current;
      }

      if (changeElement) {
        const diff = current - baseline;
        const diffAbs = Math.abs(diff);
        
        changeElement.classList.remove('positive', 'negative', 'neutral');
        
        if (type === 'oxygen') {
          // For oxygen, higher is better
          if (diff > 0) {
            changeElement.classList.add('positive');
            changeElement.innerHTML = `<span class="comparison-arrow">‚Üë</span><span>+${diffAbs}${unit} Better</span>`;
          } else if (diff < 0) {
            changeElement.classList.add('negative');
            changeElement.innerHTML = `<span class="comparison-arrow">‚Üì</span><span>-${diffAbs}${unit} Lower</span>`;
          } else {
            changeElement.classList.add('neutral');
            changeElement.innerHTML = `<span class="comparison-arrow">   </span><span>No change</span>`;
          }
        } else {
          // For heart rate and temperature, deviation from baseline is concerning
          if (diff > 0) {
            changeElement.classList.add('negative');
            changeElement.innerHTML = `<span class="comparison-arrow">‚Üë</span><span>+${type === 'temperature' ? diffAbs.toFixed(1) : diffAbs}${unit} Elevated</span>`;
          } else if (diff < 0) {
            changeElement.classList.add('positive');
            changeElement.innerHTML = `<span class="comparison-arrow">‚Üì</span><span>-${type === 'temperature' ? diffAbs.toFixed(1) : diffAbs}${unit} Improved</span>`;
          } else {
            changeElement.classList.add('neutral');
            changeElement.innerHTML = `<span class="comparison-arrow">‚Üí</span><span>No change</span>`;
          }
        }
      }
    }

    function openAthleteProfile(athleteId) {
      const athlete = athletesData.find(a => a.id === athleteId);
      if (!athlete) return;

      currentAthlete = athlete;

      // Close all comparison panels and sparklines
      document.querySelectorAll('.comparison-panel').forEach(p => {
        p.classList.remove('active');
      });
      document.querySelectorAll('.sparkline-container').forEach(s => {
        s.classList.remove('active');
      });

      const fatiguePercent = calculateFatiguePercentage(athlete.heart_rate, athlete.body_temperature, athlete.blood_oxygen);
      const energyPercent = calculateEnergyPercentage(fatiguePercent);

      // Check for 100% energy celebration
      if (energyPercent === 100 && lastEnergyPercent < 100) {
        celebrateFullEnergy();
      }
      lastEnergyPercent = energyPercent;

      document.getElementById('profile-athlete-name').textContent = athlete.athlete_name;
      document.getElementById('profile-athlete-status').textContent = `Status: ${athlete.fatigue_status}`;
      
      // Update text values
      const energyLabel = document.getElementById('energy-label');
      if (energyLabel) energyLabel.textContent = `${energyPercent}%`;
      
      const hrElement = document.getElementById('profile-heart-rate');
      const tempElement = document.getElementById('profile-temperature');
      const o2Element = document.getElementById('profile-oxygen');
      
      if (hrElement) hrElement.textContent = athlete.heart_rate;
      if (tempElement) tempElement.textContent = athlete.body_temperature.toFixed(1);
      if (o2Element) o2Element.textContent = athlete.blood_oxygen;

      // Update reactor core color
      const reactorCore = document.getElementById('reactor-core');
      const reactorAura = document.getElementById('reactor-aura');
      if (reactorCore) {
        if (athlete.fatigue_status === 'Normal') {
          reactorCore.style.color = '#00FF88';
          if (reactorAura) reactorAura.style.color = '#00FF88';
        } else if (athlete.fatigue_status === 'Moderate') {
          reactorCore.style.color = '#FFB800';
          if (reactorAura) reactorAura.style.color = '#FFB800';
        } else {
          reactorCore.style.color = '#FF3366';
          if (reactorAura) reactorAura.style.color = '#FF3366';
        }
      }

      // Start particle flow
      startParticleFlow(athlete.fatigue_status);

      // Update reactor aura intensity
      updateReactorAura(athlete.fatigue_status);

      // Update energy ring (outer ring of reactor)
      const energyRing = document.getElementById('energy-ring');
      if (energyRing) {
        const circumference = 691;
        const fillAmount = (energyPercent / 100) * circumference;
        const offset = circumference - fillAmount;
        energyRing.setAttribute('stroke-dasharray', `${fillAmount} ${circumference}`);
        energyRing.style.strokeDashoffset = '0';
      }

      // Update orbital rings - fill based on value within range WITH ANIMATION
      const hrRing = document.getElementById('hr-ring');
      if (hrRing) {
        // Heart rate: range 60-180 bpm
        const minHR = 60;
        const maxHR = 180;
        const range = maxHR - minHR;
        
        // Calculate how much of the ring to fill based on current value
        const fillPercent = Math.min(100, Math.max(0, ((athlete.heart_rate - minHR) / range) * 100));
        
        const circumference = 440;
        const targetFillLength = (fillPercent / 100) * circumference;
        
        // Start from 0 and animate to target
        hrRing.setAttribute('stroke-dasharray', `0 ${circumference}`);
        hrRing.setAttribute('stroke-dashoffset', '0');
        
        // Animate after a brief delay
        setTimeout(() => {
          hrRing.style.transition = 'stroke-dasharray 1.5s cubic-bezier(0.4, 0, 0.2, 1)';
          hrRing.setAttribute('stroke-dasharray', `${targetFillLength} ${circumference - targetFillLength}`);
        }, 100);
      }

      const tempRing = document.getElementById('temp-ring');
      if (tempRing) {
        // Temperature: range 35-39¬∞C
        const minTemp = 35;
        const maxTemp = 39;
        const range = maxTemp - minTemp;
        
        const fillPercent = Math.min(100, Math.max(0, ((athlete.body_temperature - minTemp) / range) * 100));
        
        const circumference = 440;
        const targetFillLength = (fillPercent / 100) * circumference;
        
        // Start from 0 and animate to target
        tempRing.setAttribute('stroke-dasharray', `0 ${circumference}`);
        tempRing.setAttribute('stroke-dashoffset', '0');
        
        // Animate after a brief delay
        setTimeout(() => {
          tempRing.style.transition = 'stroke-dasharray 1.5s cubic-bezier(0.4, 0, 0.2, 1)';
          tempRing.setAttribute('stroke-dasharray', `${targetFillLength} ${circumference - targetFillLength}`);
        }, 300);
      }

      const o2Ring = document.getElementById('o2-ring');
      if (o2Ring) {
        // Oxygen: range 90-100%
        const minO2 = 90;
        const maxO2 = 100;
        const range = maxO2 - minO2;
        
        const fillPercent = Math.min(100, Math.max(0, ((athlete.blood_oxygen - minO2) / range) * 100));
        
        const circumference = 440;
        const targetFillLength = (fillPercent / 100) * circumference;
        
        // Start from 0 and animate to target
        o2Ring.setAttribute('stroke-dasharray', `0 ${circumference}`);
        o2Ring.setAttribute('stroke-dashoffset', '0');
        
        // Animate after a brief delay
        setTimeout(() => {
          o2Ring.style.transition = 'stroke-dasharray 1.5s cubic-bezier(0.4, 0, 0.2, 1)';
          o2Ring.setAttribute('stroke-dasharray', `${targetFillLength} ${circumference - targetFillLength}`);
        }, 500);
      }

      // Adjust orbital ring rotation speed based on criticality
      const orbitals = document.querySelectorAll('.orbital-data-ring');
      orbitals.forEach(orbital => {
        // Check if any vital is critical
        const isCritical = athlete.heart_rate > 160 || athlete.body_temperature >= 38.0 || athlete.blood_oxygen <= 93;
        
        if (isCritical) {
          // Speed up rotation animation
          orbital.style.animationDuration = '2.5s';
        } else {
          // Normal speed
          orbital.style.animationDuration = '4.5s';
        }
      });

      // Setup gesture controls
      setupGestureControls();

      navigateToPage('athlete-profile');
    }

    function startMonitoringSession() {
      const notification = document.createElement('div');
      notification.style.cssText = 'position:fixed;top:100px;right:24px;z-index:300;max-width:400px;background:rgba(20,20,20,0.95);border:1px solid rgba(255,255,255,0.15);border-radius:16px;padding:24px;box-shadow:0 20px 60px rgba(0,0,0,0.8);';
      notification.innerHTML = `
        <h3 style="margin-bottom:12px;font-size:18px;color:#FFFFFF;font-weight:700;">Session Starting</h3>
        <p style="color:rgba(255,255,255,0.7);margin-bottom:16px;font-size:14px;line-height:1.5;">Live sensor tracking will be activated when external data source is connected.</p>
        <button class="secondary-button" onclick="this.closest('div').remove()" style="width:100%;">Close</button>
      `;
      document.body.appendChild(notification);
      setTimeout(() => notification.remove(), 5000);
    }

    function openTeamAnalysis() {
      const notification = document.createElement('div');
      notification.style.cssText = 'position:fixed;top:100px;right:24px;z-index:300;max-width:400px;background:rgba(20,20,20,0.95);border:1px solid rgba(255,255,255,0.15);border-radius:16px;padding:24px;box-shadow:0 20px 60px rgba(0,0,0,0.8);';
      notification.innerHTML = `
        <h3 style="margin-bottom:12px;font-size:18px;color:#FFFFFF;font-weight:700;">Team Analysis</h3>
        <p style="color:rgba(255,255,255,0.7);margin-bottom:16px;font-size:14px;line-height:1.5;">Advanced analytics available with historical training data.</p>
        <button class="secondary-button" onclick="this.closest('div').remove()" style="width:100%;">Close</button>
      `;
      document.body.appendChild(notification);
      setTimeout(() => notification.remove(), 5000);
    }
  </script>
 </body>
</html>